<analyze-dialog control="$ctrl" class="analyze-pivot-dialog">
  <analyze-dialog-header>
    <div layout="row">
      <md-button class="ard_back-btn"
                 ng-click="$ctrl.$dialog.closeDialog()">
        <md-icon md-font-icon="icon-arrow-left"></md-icon>
      </md-button>

      <div class="ard_meta" flex>
        <div class="md-title">
          <strong class="e2e-pivot-title" ng-bind="$ctrl.model.name"></strong>
          <label translate="DRAFT"></label>
        </div>
        <div class="md-description">
          <md-icon md-font-icon="icon-report"></md-icon>
          <span translate="ORDERS"></span>
        </div>
      </div>

      <div class="ard_actions" flex>
        <md-button ng-click="$ctrl.openSaveModal()"
                   translate="SAVE">
        </md-button>
      </div>
    </div>
  </analyze-dialog-header>

  <analyze-dialog-content>
    <analyze-filter-sidenav></analyze-filter-sidenav>

    <div layout="column">
      <div layout="row" class="ard_toolbar">
        <md-button class="ard_toolbar-expand"
                   ng-class="{'m-expanded':$ctrl.states.detailsExpanded}"
                   ng-click="$ctrl.toggleDetailsPanel()">
          <md-icon md-font-icon="icon-expand"></md-icon>
        </md-button>

        <span class="ard_toolbar-text" flex
              translate="REPORT"></span>

        <div class="ard_toolbar-actions" flex>
          <md-button ng-click="$ctrl.openDescriptionModal($event)">
            <md-icon md-font-icon="icon-description"></md-icon>
            <span translate="DESCRIPTION"></span>
          </md-button>

          <md-button ng-click="$ctrl.openPreviewModal($event)"
                     ng-disabled="$ctrl.isPreviewDisabled()">
            <md-icon md-font-icon="icon-full-screen"></md-icon>
            <span translate="PREVIEW"></span>
          </md-button>

          <md-button ng-click="$ctrl.openSortModal($event)"
                     ng-disabled="$ctrl.isSortDisabled()">
            <md-icon md-font-icon="icon-sort"></md-icon>
            <span translate="SORT"></span>
          </md-button>

          <md-button ng-if="$ctrl.showFiltersButton" ng-click="$ctrl.openFilterSidenav()">
            <md-icon md-font-icon="icon-filter"></md-icon>
            <span translate="FILTER"></span>
          </md-button>
        </div>
      </div>

      <div dx-pivot-grid="$ctrl.pivotGridOptions1"></div>
    </div>
  </analyze-dialog-content>
</analyze-dialog>
