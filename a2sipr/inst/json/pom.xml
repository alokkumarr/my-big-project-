<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
   <modelVersion>4.0.0</modelVersion>
   <groupId>com.synchronoss.saw</groupId>
   <artifactId>a2modules</artifactId>
   <version>${revision}</version>
   <description />
   <properties>
      <pkg.inst.type>online</pkg.inst.type>
      <r.home>/dfs/opt/aa-r-fw</r.home>
      <r.lib.home>/dfs/opt/aa-r-fw/libraries</r.lib.home>
      <app.dir>/dfs/opt/bda/apps/${project.artifactId}_${project.version}</app.dir>
      <app.user>mapr</app.user>
      <app.group>mapr</app.group>
   </properties>
   <build>
      <plugins>
         <plugin>
            <groupId>de.dentrassi.maven</groupId>
            <artifactId>rpm</artifactId>
            <version>0.10.0</version>
            <executions>
               <execution>
                  <goals>
                     <goal>rpm</goal>
                  </goals>
                  <configuration>
                     <packageName>a2modules</packageName>
                     <version>0.2.0</version>
                     <rulesets>
                        <ruleset>
                           <id>app-default</id>
                           <rules>
                              <rule>
                                 <when>
                                    <type>directory</type>
                                 </when>
                                 <mode>0644</mode>
                                 <user>${app.user}</user>
                                 <group>${app.group}</group>
                              </rule>
                              <rule>
                                 <when>
                                    <type>file</type>
                                 </when>
                                 <mode>0644</mode>
                                 <user>${app.user}</user>
                                 <group>${app.group}</group>
                              </rule>
                           </rules>
                        </ruleset>
                     </rulesets>
                     <entries>
                        <entry>
                           <name>${r.home}</name>
                           <directory>true</directory>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}</name>
                           <directory>true</directory>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr</name>
                           <directory>true</directory>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge</name>
                           <directory>true</directory>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler</name>
                           <directory>true</directory>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2charter</name>
                           <directory>true</directory>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/json</name>
                           <directory>true</directory>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/exec</name>
                           <collect>
                              <from>${project.basedir}/../../exec</from>
                           </collect>
                           <mode>0755</mode>
						   <user>${app.user}</user>
						   <group>${app.group}</group>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/json/corr-data.jconf.template</name>
                           <file>corr-data.jconf.template</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/json/detect-data.jconf.template</name>
                           <file>detect-data.jconf.template</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/json/rscript-conf-template.jconf.template</name>
                           <file>rscript-conf-template.jconf.template</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/json/r-package-dependencies.json</name>
                           <file>r-package-dependencies.json</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/json/r-package-test.json</name>
                           <file>r-package-test.json</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/json/pkgs.txt</name>
                           <file>pkgs.txt</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${r.home}/inst/sh</name>
                           <collect>
                              <from>${project.basedir}/../../inst/sh</from>
                           </collect>
						   <user>${app.user}</user>
						   <group>${app.group}</group>
                           <mode>0755</mode>
                        </entry>
                        <entry>
                           <name>${app.dir}/pkgs</name>
                           <collect>
                              <from>${project.basedir}/../../inst/pkgs</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr/man</name>
                           <collect>
                              <from>${project.basedir}/../../man</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr/R</name>
                           <collect>
                              <from>${project.basedir}/../../R</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr/a2sipr.Rproj</name>
                           <file>${project.basedir}/../../a2sipr.Rproj</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr/.Rbuildignore</name>
                           <file>${project.basedir}/../../.Rbuildignore</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr/DESCRIPTION</name>
                           <file>${project.basedir}/../../DESCRIPTION</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr/LICENSE</name>
                           <file>${project.basedir}/../../LICENSE</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2sipr/NAMESPACE</name>
                           <file>${project.basedir}/../../NAMESPACE</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge/man</name>
                           <collect>
                              <from>${project.basedir}/../../../a2munge/man</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge/R</name>
                           <collect>
                              <from>${project.basedir}/../../../a2munge/R</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge/a2munge.Rproj</name>
                           <file>${project.basedir}/../../../a2munge/a2munge.Rproj</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge/.Rbuildignore</name>
                           <file>${project.basedir}/../../../a2munge/.Rbuildignore</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge/DESCRIPTION</name>
                           <file>${project.basedir}/../../../a2munge/DESCRIPTION</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge/LICENSE</name>
                           <file>${project.basedir}/../../../a2munge/LICENSE</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2munge/NAMESPACE</name>
                           <file>${project.basedir}/../../../a2munge/NAMESPACE</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler/man</name>
                           <collect>
                              <from>${project.basedir}/../../../a2modeler/man</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler/R</name>
                           <collect>
                              <from>${project.basedir}/../../../a2modeler/R</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler/a2modeler.Rproj</name>
                           <file>${project.basedir}/../../../a2modeler/a2modeler.Rproj</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler/.Rbuildignore</name>
                           <file>${project.basedir}/../../../a2modeler/.Rbuildignore</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler/DESCRIPTION</name>
                           <file>${project.basedir}/../../../a2modeler/DESCRIPTION</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler/LICENSE</name>
                           <file>${project.basedir}/../../../a2modeler/LICENSE</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2modeler/NAMESPACE</name>
                           <file>${project.basedir}/../../../a2modeler/NAMESPACE</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2charter/man</name>
                           <collect>
                              <from>${project.basedir}/../../../a2charter/man</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2charter/R</name>
                           <collect>
                              <from>${project.basedir}/../../../a2charter/R</from>
                           </collect>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2charter/a2charter.Rproj</name>
                           <file>${project.basedir}/../../../a2charter/a2charter.Rproj</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2charter/.Rbuildignore</name>
                           <file>${project.basedir}/../../../a2charter/.Rbuildignore</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2charter/DESCRIPTION</name>
                           <file>${project.basedir}/../../../a2charter/DESCRIPTION</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                        <entry>
                           <name>${app.dir}/a2charter/NAMESPACE</name>
                           <file>${project.basedir}/../../../a2charter/NAMESPACE</file>
						   <ruleset>app-default</ruleset>
                        </entry>
                     </entries>
                     <afterInstallation>
                        <script>Rscript ${r.home}/exec/a2modules-package-install.R ${app.dir} ${r.lib.home} ${r.home}/inst/json/pkgs.txt ${pkg.inst.type}</script>
                     </afterInstallation>
                     <signature>
                        <skip>true</skip>
                     </signature>
                  </configuration>
               </execution>
            </executions>
         </plugin>
      </plugins>
   </build>
   <repositories>
      <repository>
         <id>synchronoss</id>
         <url>http://mavenrepo.synchronoss.net:8081/nexus/content/repositories/releases-only</url>
      </repository>
   </repositories>
</project>