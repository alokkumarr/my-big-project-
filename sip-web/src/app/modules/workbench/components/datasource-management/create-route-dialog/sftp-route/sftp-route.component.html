<form
  fxFlex
  fxLayout="row wrap"
  class="details-container"
  #sourceDetails
  novalidate
  [formGroup]="detailsFormGroup"
  autocomplete="false"
>
  <section fxFlex="49" fxLayout="column" fxLayoutAlign="space-around center">
    <mat-form-field appearance="outline">
      <mat-label i18n>Route Name</mat-label>
      <input
        matInput
        name="routeName"
        formControlName="routeName"
        e2e="route-name-input"
        required
      />
      <mat-error
        e2e="route-name-error"
        *ngIf="!!detailsFormGroup.controls.routeName.hasError('required')"
        i18n
      >
        Route Name is <strong>required</strong>
      </mat-error>
      <mat-error
        e2e="route-name-exist"
        *ngIf="!!detailsFormGroup.controls.routeName.hasError('isUnique')"
        i18n
      >
        Route Name already <strong>exists</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label i18n>File Pattern</mat-label>
      <input
        matInput
        name="filePattern"
        formControlName="filePattern"
        e2e="route-file-pattern-input"
        required
      />
      <mat-error
        e2e="route-file-pattern-error"
        *ngIf="!!detailsFormGroup.controls.filePattern.hasError('required')"
        i18n
      >
        File Pattern is <strong>required</strong>
      </mat-error>
      <mat-error
        e2e="route-file-pattern-invalid"
        *ngIf="
          !!detailsFormGroup.controls.filePattern.hasError('inValidPattern')
        "
        i18n
      >
        File Pattern is invalid.
        <strong> Cannot have more than one pattern</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label i18n>Exclude Extension</mat-label>
      <input
        matInput
        type="text"
        name="fileExclusions"
        e2e="route-file-exclusions-input"
        formControlName="fileExclusions"
      />
      <mat-error
        e2e="route-file-exclusions-error"
        *ngIf="
          !!detailsFormGroup.controls.fileExclusions.hasError('inValidPattern')
        "
        i18n
      >
        <strong>
          Cannot have more than one extension or a ' . ' in extension
          value</strong
        >
      </mat-error>
    </mat-form-field>
    <mat-checkbox
      id="disableDuplicate"
      e2e="route-disable-duplicate-ch"
      formControlName="disableDuplicate"
      i18n
    >
      Disable duplicate check
    </mat-checkbox>
    <mat-checkbox
      id="disableConcurrency"
      e2e="route-disable-duplicate-ch"
      formControlName="disableConcurrency"
      i18n
    >
      Disable Concurrency
    </mat-checkbox>
  </section>
  <mat-divider fxFlex="2" [vertical]="true"></mat-divider>
  <section fxFlex="49" fxLayout="column" fxLayoutAlign="space-around center">
    <mat-form-field appearance="outline">
      <mat-label i18n>Source Location</mat-label>
      <input
        matInput
        name="sourceLocation"
        e2e="route-source-location-input"
        formControlName="sourceLocation"
        required
      />
      <mat-error
        e2e="route-source-error"
        *ngIf="!!detailsFormGroup.controls.sourceLocation.hasError('required')"
        i18n
      >
        Source Location is <strong>required</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label i18n>Destination Location</mat-label>
      <input
        matInput
        name="destinationLocation"
        e2e="route-dest-location-input"
        formControlName="destinationLocation"
        required
      />
      <button
        mat-button
        matSuffix
        mat-icon-button
        (click)="openSelectSourceFolderDialog()"
      >
        <mat-icon matTooltip="Browse" fontIcon="icon-folder-solid"></mat-icon>
      </button>
      <mat-error
        e2e="route-dest-location-error"
        *ngIf="
          !!detailsFormGroup.controls.destinationLocation.hasError('required')
        "
        i18n
      >
        Destination Location is <strong>required</strong>
      </mat-error>
      <mat-error
        e2e="route-dest-location-pattern-error"
        *ngIf="
          !!detailsFormGroup.controls.destinationLocation.hasError('pattern')
        "
        i18n
      >
        Destination Location <strong>cannot contain spaces</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label i18n>Batch size</mat-label>
      <input
        matInput
        type="number"
        e2e="route-batch-size-input"
        name="batchSize"
        formControlName="batchSize"
        required
      />
      <mat-error
        e2e="route-batch-size-error"
        *ngIf="!!detailsFormGroup.controls.batchSize.hasError('required')"
        i18n
      >
        Batch size is <strong>required</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label i18n>Look back interval (Hrs)</mat-label>
      <input
        matInput
        type="number"
        [value]="!!detailsFormGroup.controls.lastModifiedLimitHours.value"
        name="lastModifiedLimitHours"
        e2e="last-modified-limit-input"
        formControlName="lastModifiedLimitHours"
      />
      <span *ngIf="!!detailsFormGroup.controls.errors" class="errorTextMsg" i18n
        >Only numbers allowed</span
      >
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label i18n>Description about the route</mat-label>
      <textarea
        matInput
        formControlName="description"
        e2e="route-description-input"
      ></textarea>
    </mat-form-field>
  </section>
</form>
