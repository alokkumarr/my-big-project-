<header [ngSwitch]="data.action"
        class="dialog__header">
  <strong *ngSwitchCase="'sort'" i18n>Sort</strong>
  <strong *ngSwitchCase="'description'" i18n>Description</strong>
  <strong *ngSwitchCase="'save'" i18n>Save</strong>
  <mat-progress-bar [style.visibility]="showProgress ? 'visible' : 'hidden'"
                    mode="indeterminate"></mat-progress-bar>
</header>
<div [ngSwitch]="data.action"
     class="dialog__content">
  <designer-sort *ngSwitchCase="'sort'"
                  (sortsChange)="onSortsChange($event)"
                  [sorts]="data.sorts"
                  [artifacts]="data.artifacts">
  </designer-sort>
  <designer-description *ngSwitchCase="'description'"
                        (descriptionChange)="onDescriptionChange($event)"
                        [description]="data.description">
  </designer-description>
  <!-- Validation error messages for the user to correct the
  incorrect analysis name entered. -->
  <div class="name-validation" *ngIf="validateSaving(data.analysis.name)" fxLayout="column">
    <span *ngIf="!validateCheck.validateLength">
      * Analysis Name cannot be empty or exceed 31 characters.
    </span>
    <span *ngIf="!validateCheck.validateCharacters">
      * Analysis Name cannot contain special characters.
    </span>
  </div>
  <designer-save *ngSwitchCase="'save'"
                 (nameChange)="onNameChange($event)"
                 [designerMode]="data.designerMode"
                 (descriptionChange)="onSaveDescriptionChange($event)"
                 [analysis]="data.analysis">
  </designer-save>
</div>
<div class="dialog__actions"
     fxLayout="column"
     fxLayoutAlign="start start">

  <div fxLayout="row"
       fxLayoutAlign="start center">
    <div [ngSwitch]="data.action">
        <button *ngSwitchCase="'sort'"
                (click)="onOk()"
                mat-raised-button color="primary" i18n>
          Apply Sort
        </button>
        <button *ngSwitchCase="'description'"
                (click)="onOk()"
                mat-raised-button color="primary" i18n>
          Save Description
        </button>
        <button *ngSwitchCase="'save'"
                (click)="save('saveAndClose')"
                e2e="save-dialog-save-analysis"
                [disabled]="validateSaving(data.analysis.name)"
                mat-raised-button color="primary" i18n>
          Save & Close
        </button>
        <button *ngSwitchCase="'save'"
                (click)="save('save')"
                e2e="dialog-save-analysis"
                [disabled]="validateSaving(data.analysis.name)"
                mat-button i18n>
          Save
        </button>
    </div>
    <button mat-button i18n (click)="onBack()" e2e="designer-dialog-cancel">Cancel</button>
  </div>
</div>
