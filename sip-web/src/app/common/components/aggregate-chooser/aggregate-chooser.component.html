<button
  mat-icon-button
  [matMenuTriggerFor]="aggregatemenu"
  class="aggregate-chooser__btn"
  [attr.e2e]="getAggregateObj().value"
>
  <mat-icon
    [style.width.px]="40"
    [fontIcon]="aggregate ? getAggregateObj().icon : 'icon-more'"
  ></mat-icon>
</button>
<mat-menu #aggregatemenu="matMenu">
  <div *ngFor="let aggregateType of aggregates; trackBy: trackByIndex">
    <button
      [attr.e2e]="aggregateType.value"
      mat-menu-item
      (click)="onAggregateChange(aggregateType.value)"
      *ngIf="checkColumn(aggregateType.value, sipQuery)"
      [ngStyle]="{
        color: aggregate === aggregateType.value ? '#0077BE' : '#737373'
      }"
    >
      <mat-icon [fontIcon]="aggregateType.icon"></mat-icon>
      <span style="margin-left: 20px;">{{ aggregateType.label }}</span>
    </button>
  </div>
</mat-menu>
<button mat-button *ngIf="aggregate" type="button" (click)="clearAggregate()">
  Clear
</button>
