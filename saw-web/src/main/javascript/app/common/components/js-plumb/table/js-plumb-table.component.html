<mat-list role="list">

  <div class="table-name">
    <span>{{artifact.artifactName}}</span>
  </div>

  <mat-divider></mat-divider>

  <mat-list-item *ngFor="let column of columns; trackBy: index"
                 role="listitem">
    <div fxLayout="row"
         [attr.e2e]="getIdentifier(column)"
         fxLayoutAlign="space-between center"
         class="jsp-table__column">

      <mat-checkbox [checked]="column.checked"
                    (change)="onCheckBoxToggle(column, $event.checked)">
      </mat-checkbox>
      <div class="jsp-table__column-name">
        {{getColumnLabel(column)}}
      </div>

      <div *ngIf="column.checked"
           class="jsp-table__column-actions"
           fxLayout="row"
           fxLayoutAlign="space-between center">
        <aggregate-chooser-u *ngIf="useAggregate"
                            (change)="onAggregateChange(column, $event)"
                            [aggregate]="column.aggregate"
                            [type]="column.type">
        </aggregate-chooser-u>

        <button *ngIf="column.aggregate"
                mat-icon-button
                (click)="clearAggregate(column)">
          <mat-icon fontIcon="icon-close"></mat-icon>
        </button>
      </div>
    </div>

    <div *ngIf="column.joinEligible">
      <js-plumb-endpoint-u *ngFor="let side of sides; trackBy: index"
                           [column]="column"
                           [artifactName]="artifact.artifactName"
                           [side]="side"
                           [plumbInstance]="plumbInstance">
      </js-plumb-endpoint-u>
    </div>
  </mat-list-item>
</mat-list>
