<designer-header class="designer__header"
                 [analysis]="analysis"
                 [isInDraftMode]="isInDraftMode"
                 [designerState]="designerState"
                 [isInQueryMode]="isInQueryMode"
                 (onBack)="onBack.emit()"
                 (requestAction)="onToolbarAction($event)">
</designer-header>

<div *ngIf="analysis" [ngSwitch]="layoutConfiguration" class="designer__main">
  <single-table-designer-layout *ngSwitchCase="'single'"
                                (change)="onSettingsChange($event)"
                                [artifacts]="artifacts"
                                [data]="data"
                                [sorts]="sorts"
                                [designerState]="designerState">
  </single-table-designer-layout>

  <multi-table-designer-layout *ngSwitchCase="'multi'"
                               (change)="onSettingsChange($event)"
                               [isInQueryMode]="isInQueryMode"
                               [analysis]="analysis"
                               [artifacts]="analysis.edit ? null : artifacts"
                               [data]="data"
                               [dataCount]="dataCount"
                               [sorts]="sorts"
                               [filters]="filters"
                               [sqlBuilder]="analysis.sqlBuilder"
                               [designerState]="designerState">
  </multi-table-designer-layout>
</div>
