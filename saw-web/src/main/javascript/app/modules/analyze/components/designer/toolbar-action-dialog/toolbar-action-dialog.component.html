<header [ngSwitch]="data.action"
        class="dialog__header">
  <strong *ngSwitchCase="'sort'" i18n>Sort</strong>
  <strong *ngSwitchCase="'filter'" i18n>Filter</strong>
  <strong *ngSwitchCase="'description'" i18n>Description</strong>
  <strong *ngSwitchCase="'save'" i18n>Save</strong>
  <mat-progress-bar [style.visibility]="showProgressBar ? 'visible' : 'hidden'"
                    mode="indeterminate"></mat-progress-bar>
</header>
<div [ngSwitch]="data.action"
     class="dialog__content">
  <designer-sort *ngSwitchCase="'sort'"
                  (sortsChange)="onSortsChange($event)"
                  [sorts]="data.sorts"
                  [artifacts]="data.artifacts">
  </designer-sort>
  <designer-filter-container *ngSwitchCase="'filter'"
                  (filtersChange)="onFiltersChange($event)"
                  [filters]="data.filters"
                  [supportsGlobalFilters]="data.supportsGlobalFilters"
                  [artifacts]="data.artifacts">
  </designer-filter-container>
  <designer-description *ngSwitchCase="'description'"
                        (descriptionChange)="onDescriptionChange($event)"
                        [description]="data.description">
  </designer-description>
  <designer-save *ngSwitchCase="'save'"
                 (nameChange)="onNameChange($event)"
                 (descriptionChange)="onSaveDescriptionChange($event)"
                 [analysis]="data.analysis">
  </designer-save>
</div>
<div class="dialog__actions"
     fxLayout="column"
     fxLayoutAlign="start start">

  <div *ngIf="data.action === 'filter'"
       fxLayout="row"
       fxLayoutAlign="start center"
       style="margin-bottom: 10px;">
    <mat-button-toggle-group (change)="onBooleanCriteriaChange($event.value)"
                              [value]="data.booleanCriteria">
      <mat-button-toggle value="AND" i18n>
        All
      </mat-button-toggle>
      <mat-button-toggle value="OR" i18n>
        Any
      </mat-button-toggle>
    </mat-button-toggle-group>
    <span style="padding-left: 10px;" i18n>of the filters are true</span>
  </div>

  <div fxLayout="row"
       fxLayoutAlign="start center">
    <div [ngSwitch]="data.action">
        <button *ngSwitchCase="'sort'"
                (click)="onOk()"
                mat-raised-button color="primary" i18n>
          Apply Sort
        </button>
        <button *ngSwitchCase="'filter'"
                (click)="onOk()"
                e2e="apply-filter-btn"
                mat-raised-button color="primary" i18n>
          Apply Filters
        </button>
        <button *ngSwitchCase="'description'"
                (click)="onOk()"
                mat-raised-button color="primary" i18n>
          Save Description
        </button>
        <button *ngSwitchCase="'save'"
                (click)="save()"
                e2e="save-dialog-save-analysis"
                mat-raised-button color="primary" i18n>
          Save
        </button>
    </div>
    <button mat-button i18n (click)="onBack()" e2e="designer-dialog-cancel">Cancel</button>
  </div>
</div>
