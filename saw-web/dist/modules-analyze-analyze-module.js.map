{"version":3,"sources":["webpack:///./node_modules/angular-2-local-storage/dist/index.js","webpack:///./node_modules/angular-2-local-storage/dist/local-storage.module.js","webpack:///./node_modules/angular-2-local-storage/dist/local-storage.service.js","webpack:///./node_modules/blob/index.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/fp/first.js","webpack:///./node_modules/lodash/fp/head.js","webpack:///./node_modules/lodash/fp/pick.js","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/lodash/slice.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/util.js","webpack:///./src/app/common/local-storage-keys.ts","webpack:///./src/app/modules/analyze/actions/analyze-actions-menu.component.html","webpack:///./src/app/modules/analyze/actions/analyze-actions-menu.component.ts","webpack:///./src/app/modules/analyze/actions/index.ts","webpack:///./src/app/modules/analyze/analyze.module.ts","webpack:///./src/app/modules/analyze/executed-view/chart/executed-chart-view.component.html","webpack:///./src/app/modules/analyze/executed-view/chart/executed-chart-view.component.ts","webpack:///./src/app/modules/analyze/executed-view/chart/index.ts","webpack:///./src/app/modules/analyze/executed-view/executed-view.component.html","webpack:///./src/app/modules/analyze/executed-view/executed-view.component.scss","webpack:///./src/app/modules/analyze/executed-view/executed-view.component.ts","webpack:///./src/app/modules/analyze/executed-view/index.ts","webpack:///./src/app/modules/analyze/executed-view/list/executed-list.component.html","webpack:///./src/app/modules/analyze/executed-view/list/executed-list.component.ts","webpack:///./src/app/modules/analyze/executed-view/list/index.ts","webpack:///./src/app/modules/analyze/executed-view/map-chart/executed-map-chart-view.component.html","webpack:///./src/app/modules/analyze/executed-view/map-chart/executed-map-chart-view.component.scss","webpack:///./src/app/modules/analyze/executed-view/map-chart/executed-map-chart-view.component.ts","webpack:///./src/app/modules/analyze/executed-view/map-chart/index.ts","webpack:///./src/app/modules/analyze/executed-view/map/executed-map-view.component.html","webpack:///./src/app/modules/analyze/executed-view/map/executed-map-view.component.ts","webpack:///./src/app/modules/analyze/executed-view/map/index.ts","webpack:///./src/app/modules/analyze/executed-view/pivot/executed-pivot-view.component.html","webpack:///./src/app/modules/analyze/executed-view/pivot/executed-pivot-view.component.scss","webpack:///./src/app/modules/analyze/executed-view/pivot/executed-pivot-view.component.ts","webpack:///./src/app/modules/analyze/executed-view/pivot/index.ts","webpack:///./src/app/modules/analyze/executed-view/report/executed-report-view.component.html","webpack:///./src/app/modules/analyze/executed-view/report/executed-report-view.component.ts","webpack:///./src/app/modules/analyze/executed-view/report/index.ts","webpack:///./src/app/modules/analyze/guards/default-analyze-category.guard.ts","webpack:///./src/app/modules/analyze/guards/index.ts","webpack:///./src/app/modules/analyze/page/analyze-page.component.html","webpack:///./src/app/modules/analyze/page/analyze-page.component.ts","webpack:///./src/app/modules/analyze/page/index.ts","webpack:///./src/app/modules/analyze/publish/index.ts","webpack:///./src/app/modules/analyze/routes.ts","webpack:///./src/app/modules/analyze/services/analyze-export.service.ts","webpack:///./src/app/modules/analyze/state/analyze.state.ts","webpack:///./src/app/modules/analyze/view/analyses-filter.pipe.ts","webpack:///./src/app/modules/analyze/view/analyze-view.component.html","webpack:///./src/app/modules/analyze/view/analyze-view.component.scss","webpack:///./src/app/modules/analyze/view/analyze-view.component.ts","webpack:///./src/app/modules/analyze/view/card-view/analyze-card-view.component.html","webpack:///./src/app/modules/analyze/view/card-view/analyze-card-view.component.scss","webpack:///./src/app/modules/analyze/view/card-view/analyze-card-view.component.ts","webpack:///./src/app/modules/analyze/view/card-view/index.ts","webpack:///./src/app/modules/analyze/view/card/analyze-card.component.html","webpack:///./src/app/modules/analyze/view/card/analyze-card.component.scss","webpack:///./src/app/modules/analyze/view/card/analyze-card.component.ts","webpack:///./src/app/modules/analyze/view/card/index.ts","webpack:///./src/app/modules/analyze/view/index.ts","webpack:///./src/app/modules/analyze/view/list-view/analyze-list-view.component.html","webpack:///./src/app/modules/analyze/view/list-view/analyze-list-view.component.scss","webpack:///./src/app/modules/analyze/view/list-view/analyze-list-view.component.ts","webpack:///./src/app/modules/analyze/view/list-view/index.ts","webpack:///./src/app/modules/analyze/view/new-dialog/analyze-new-dialog.component.html","webpack:///./src/app/modules/analyze/view/new-dialog/analyze-new-dialog.component.scss","webpack:///./src/app/modules/analyze/view/new-dialog/analyze-new-dialog.component.ts","webpack:///./src/app/modules/analyze/view/new-dialog/index.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb,8CAA8C,cAAc;AAC5D,6BAA6B,mBAAO,CAAC,mGAAwB;AAC7D;AACA,8BAA8B,mBAAO,CAAC,qGAAyB;AAC/D;AACA,iC;;;;;;;;;;;;ACNa;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,8BAA8B,mBAAO,CAAC,qGAAyB;AAC/D;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA,gD;;;;;;;;;;;;AClCa;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,aAAa,mBAAO,CAAC,gDAAM;AAC3B,kBAAkB,mBAAO,CAAC,oEAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,gCAAgC,EAAE;AACpG,uEAAuE,qCAAqC,EAAE;AAC9G,oEAAoE,kCAAkC,EAAE;AACxG,oEAAoE,kCAAkC,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iD;;;;;;;;;;;ACpPA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,CAAC;;;;;;;;;;;;AC/FD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,YAAY,mBAAO,CAAC,+CAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;AClBA,iBAAiB,mBAAO,CAAC,gDAAQ;;;;;;;;;;;;ACAjC,cAAc,mBAAO,CAAC,sDAAW;AACjC,2BAA2B,mBAAO,CAAC,8CAAS,GAAG,mBAAO,CAAC,kEAAiB;;AAExE,mBAAmB,mBAAO,CAAC,8DAAe;AAC1C;;;;;;;;;;;;ACJA,cAAc,mBAAO,CAAC,sDAAW;AACjC,2BAA2B,mBAAO,CAAC,8CAAS;;AAE5C,mBAAmB,mBAAO,CAAC,8DAAe;AAC1C;;;;;;;;;;;;ACJA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,qBAAqB;AAChC,aAAa,OAAO;AACpB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,UAAU;AACV;AACA;AACA,4BAA4B;AAC5B,CAAC;;AAED;;;;;;;;;;;;ACxBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAO,CAAC,0EAAoB;;AAE/C;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,mBAAmB,mBAAO,CAAC,6DAAU;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kCAAkC;AAC7D,2BAA2B,mDAAmD;AAC9E;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9rBA;AAAA;AAAO,IAAM,yBAAyB,GAAG,oBAAoB,CAAC;;;;;;;;;;;;ACA9D,gTAAgT,6QAA6Q,cAAc,kD;;;;;;;;;;;;;;;;;;;;;;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","file":"modules-analyze-analyze-module.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar local_storage_module_1 = require(\"./local-storage.module\");\nexports.LocalStorageModule = local_storage_module_1.LocalStorageModule;\nvar local_storage_service_1 = require(\"./local-storage.service\");\nexports.LocalStorageService = local_storage_service_1.LocalStorageService;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar local_storage_service_1 = require(\"./local-storage.service\");\nvar LocalStorageModule = /** @class */ (function () {\n    function LocalStorageModule() {\n    }\n    LocalStorageModule_1 = LocalStorageModule;\n    LocalStorageModule.withConfig = function (userConfig) {\n        if (userConfig === void 0) { userConfig = {}; }\n        return {\n            ngModule: LocalStorageModule_1,\n            providers: [\n                { provide: 'LOCAL_STORAGE_SERVICE_CONFIG', useValue: userConfig }\n            ]\n        };\n    };\n    LocalStorageModule = LocalStorageModule_1 = __decorate([\n        core_1.NgModule({\n            providers: [\n                local_storage_service_1.LocalStorageService\n            ]\n        })\n    ], LocalStorageModule);\n    return LocalStorageModule;\n    var LocalStorageModule_1;\n}());\nexports.LocalStorageModule = LocalStorageModule;\n//# sourceMappingURL=local-storage.module.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar rxjs_1 = require(\"rxjs\");\nvar operators_1 = require(\"rxjs/operators\");\nvar DEPRECATED = 'This function is deprecated.';\nvar LOCAL_STORAGE_NOT_SUPPORTED = 'LOCAL_STORAGE_NOT_SUPPORTED';\nvar LocalStorageService = /** @class */ (function () {\n    function LocalStorageService(config) {\n        var _this = this;\n        this.isSupported = false;\n        this.notifyOptions = {\n            setItem: false,\n            removeItem: false\n        };\n        this.prefix = 'ls';\n        this.storageType = 'localStorage';\n        this.errors = new rxjs_1.Subscriber();\n        this.removeItems = new rxjs_1.Subscriber();\n        this.setItems = new rxjs_1.Subscriber();\n        this.warnings = new rxjs_1.Subscriber();\n        var notifyOptions = config.notifyOptions, prefix = config.prefix, storageType = config.storageType;\n        if (notifyOptions != null) {\n            var setItem = notifyOptions.setItem, removeItem = notifyOptions.removeItem;\n            this.setNotify(!!setItem, !!removeItem);\n        }\n        if (prefix != null) {\n            this.setPrefix(prefix);\n        }\n        if (storageType != null) {\n            this.setStorageType(storageType);\n        }\n        this.errors$ = new rxjs_1.Observable(function (observer) { return _this.errors = observer; }).pipe(operators_1.share());\n        this.removeItems$ = new rxjs_1.Observable(function (observer) { return _this.removeItems = observer; }).pipe(operators_1.share());\n        this.setItems$ = new rxjs_1.Observable(function (observer) { return _this.setItems = observer; }).pipe(operators_1.share());\n        this.warnings$ = new rxjs_1.Observable(function (observer) { return _this.warnings = observer; }).pipe(operators_1.share());\n        this.isSupported = this.checkSupport();\n    }\n    LocalStorageService.prototype.add = function (key, value) {\n        if (console && console.warn) {\n            console.warn(DEPRECATED);\n            console.warn('Use `LocalStorageService.set` instead.');\n        }\n        return this.set(key, value);\n    };\n    LocalStorageService.prototype.clearAll = function (regularExpression) {\n        // Setting both regular expressions independently\n        // Empty strings result in catchall RegExp\n        var prefixRegex = !!this.prefix ? new RegExp('^' + this.prefix) : new RegExp('');\n        var testRegex = !!regularExpression ? new RegExp(regularExpression) : new RegExp('');\n        if (!this.isSupported) {\n            this.warnings.next(LOCAL_STORAGE_NOT_SUPPORTED);\n            return false;\n        }\n        var prefixLength = this.prefix.length;\n        for (var key in this.webStorage) {\n            // Only remove items that are for this app and match the regular expression\n            if (prefixRegex.test(key) && testRegex.test(key.substr(prefixLength))) {\n                try {\n                    this.remove(key.substr(prefixLength));\n                }\n                catch (e) {\n                    this.errors.next(e.message);\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    LocalStorageService.prototype.deriveKey = function (key) {\n        return \"\" + this.prefix + key;\n    };\n    LocalStorageService.prototype.get = function (key) {\n        if (!this.isSupported) {\n            this.warnings.next(LOCAL_STORAGE_NOT_SUPPORTED);\n            return null;\n        }\n        var item = this.webStorage ? this.webStorage.getItem(this.deriveKey(key)) : null;\n        // FIXME: not a perfect solution, since a valid 'null' string can't be stored\n        if (!item || item === 'null') {\n            return null;\n        }\n        try {\n            return JSON.parse(item);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    LocalStorageService.prototype.getStorageType = function () {\n        return this.storageType;\n    };\n    LocalStorageService.prototype.keys = function () {\n        if (!this.isSupported) {\n            this.warnings.next(LOCAL_STORAGE_NOT_SUPPORTED);\n            return [];\n        }\n        var prefixLength = this.prefix.length;\n        var keys = [];\n        for (var key in this.webStorage) {\n            // Only return keys that are for this app\n            if (key.substr(0, prefixLength) === this.prefix) {\n                try {\n                    keys.push(key.substr(prefixLength));\n                }\n                catch (e) {\n                    this.errors.next(e.message);\n                    return [];\n                }\n            }\n        }\n        return keys;\n    };\n    LocalStorageService.prototype.length = function () {\n        var count = 0;\n        var storage = this.webStorage;\n        for (var i = 0; i < storage.length; i++) {\n            if (storage.key(i).indexOf(this.prefix) === 0) {\n                count += 1;\n            }\n        }\n        return count;\n    };\n    LocalStorageService.prototype.remove = function () {\n        var _this = this;\n        var keys = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            keys[_i] = arguments[_i];\n        }\n        var result = true;\n        keys.forEach(function (key) {\n            if (!_this.isSupported) {\n                _this.warnings.next(LOCAL_STORAGE_NOT_SUPPORTED);\n                result = false;\n            }\n            try {\n                _this.webStorage.removeItem(_this.deriveKey(key));\n                if (_this.notifyOptions.removeItem) {\n                    _this.removeItems.next({\n                        key: key,\n                        storageType: _this.storageType\n                    });\n                }\n            }\n            catch (e) {\n                _this.errors.next(e.message);\n                result = false;\n            }\n        });\n        return result;\n    };\n    LocalStorageService.prototype.set = function (key, value) {\n        // Let's convert `undefined` values to `null` to get the value consistent\n        if (value === undefined) {\n            value = null;\n        }\n        else {\n            value = JSON.stringify(value);\n        }\n        if (!this.isSupported) {\n            this.warnings.next(LOCAL_STORAGE_NOT_SUPPORTED);\n            return false;\n        }\n        try {\n            if (this.webStorage) {\n                this.webStorage.setItem(this.deriveKey(key), value);\n            }\n            if (this.notifyOptions.setItem) {\n                this.setItems.next({\n                    key: key,\n                    newvalue: value,\n                    storageType: this.storageType\n                });\n            }\n        }\n        catch (e) {\n            this.errors.next(e.message);\n            return false;\n        }\n        return true;\n    };\n    LocalStorageService.prototype.checkSupport = function () {\n        try {\n            var supported = this.storageType in window\n                && window[this.storageType] !== null;\n            if (supported) {\n                this.webStorage = window[this.storageType];\n                // When Safari (OS X or iOS) is in private browsing mode, it\n                // appears as though localStorage is available, but trying to\n                // call .setItem throws an exception.\n                //\n                // \"QUOTA_EXCEEDED_ERR: DOM Exception 22: An attempt was made\n                // to add something to storage that exceeded the quota.\"\n                var key = this.deriveKey(\"__\" + Math.round(Math.random() * 1e7));\n                this.webStorage.setItem(key, '');\n                this.webStorage.removeItem(key);\n            }\n            return supported;\n        }\n        catch (e) {\n            this.errors.next(e.message);\n            return false;\n        }\n    };\n    LocalStorageService.prototype.setPrefix = function (prefix) {\n        this.prefix = prefix;\n        // If there is a prefix set in the config let's use that with an appended\n        // period for readability:\n        var PERIOD = '.';\n        if (this.prefix && !this.prefix.endsWith(PERIOD)) {\n            this.prefix = !!this.prefix ? \"\" + this.prefix + PERIOD : '';\n        }\n    };\n    LocalStorageService.prototype.setStorageType = function (storageType) {\n        this.storageType = storageType;\n    };\n    LocalStorageService.prototype.setNotify = function (setItem, removeItem) {\n        if (setItem != null) {\n            this.notifyOptions.setItem = setItem;\n        }\n        if (removeItem != null) {\n            this.notifyOptions.removeItem = removeItem;\n        }\n    };\n    LocalStorageService = __decorate([\n        core_1.Injectable(),\n        __param(0, core_1.Inject('LOCAL_STORAGE_SERVICE_CONFIG')),\n        __metadata(\"design:paramtypes\", [Object])\n    ], LocalStorageService);\n    return LocalStorageService;\n}());\nexports.LocalStorageService = LocalStorageService;\n//# sourceMappingURL=local-storage.service.js.map","/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","module.exports = require('./head');\n","var convert = require('./convert'),\n    func = convert('head', require('../head'), require('./_falseOptions'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('pick', require('../pick'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` from `start` up to, but not including, `end`.\n *\n * **Note:** This method is used instead of\n * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n * returned.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction slice(array, start, end) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n    start = 0;\n    end = length;\n  }\n  else {\n    start = start == null ? 0 : toInteger(start);\n    end = end === undefined ? length : toInteger(end);\n  }\n  return baseSlice(array, start, end);\n}\n\nmodule.exports = slice;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","export const LAST_ANALYSES_CATEGORY_ID = 'lastAnalysesListId';\n","module.exports = \"<ng-container *ngIf=\\\"actions.length && actions.length > 0\\\">\\n  <button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\" e2e=\\\"actions-menu-toggle\\\">\\n    <mat-icon fontIcon=\\\"icon-more\\\"></mat-icon>\\n  </button>\\n  <mat-menu #menu=\\\"matMenu\\\">\\n    <button *ngFor=\\\"let action of actions; trackBy: index\\\"\\n            (click)=\\\"action.fn()\\\"\\n            [disabled]=\\\"actionsToDisable[action.value]\\\"\\n            [style.color]=\\\"action.color\\\"\\n            [attr.e2e]=\\\"'actions-menu-selector-' + action.value\\\"\\n            mat-menu-item\\n    >\\n      {{action.label}}\\n    </button>\\n  </mat-menu>\\n</ng-container>\\n\"","import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\nimport * as filter from 'lodash/filter';\nimport * as fpPipe from 'lodash/fp/pipe';\nimport * as fpReduce from 'lodash/fp/reduce';\nimport * as isString from 'lodash/isString';\nimport * as upperCase from 'lodash/upperCase';\nimport { JwtService } from '../../../common/services';\nimport { Analysis } from '../types';\nimport { AnalysisDSL } from '../../../models';\nimport { AnalyzeActionsService } from './analyze-actions.service';\nimport { DesignerSaveEvent, isDSLAnalysis } from '../designer/types';\nimport * as clone from 'lodash/clone';\n\n@Component({\n  selector: 'analyze-actions-menu-u',\n  templateUrl: 'analyze-actions-menu.component.html'\n})\nexport class AnalyzeActionsMenuComponent implements OnInit {\n  @Output() afterEdit: EventEmitter<DesignerSaveEvent> = new EventEmitter();\n  @Output() afterExport: EventEmitter<null> = new EventEmitter();\n  @Output() afterExecute: EventEmitter<Analysis> = new EventEmitter();\n  @Output() afterDelete: EventEmitter<Analysis> = new EventEmitter();\n  @Output() afterPublish: EventEmitter<Analysis> = new EventEmitter();\n  @Output() afterSchedule: EventEmitter<Analysis> = new EventEmitter();\n  @Output() detailsRequested: EventEmitter<boolean> = new EventEmitter();\n  @Input() analysis: Analysis | AnalysisDSL;\n  @Input() exclude: string;\n  @Input('actionsToDisable')\n  set disabledActions(actionsToDisable: string) {\n    this.actionsToDisable = fpPipe(\n      actionsToDisableString =>\n        isString(actionsToDisableString)\n          ? actionsToDisableString.split('-')\n          : [],\n      fpReduce((acc, action) => {\n        acc[action] = true;\n        return acc;\n      }, {})\n    )(actionsToDisable);\n  }\n  public actionsToDisable = {};\n\n  actions = [\n    {\n      label: 'Details',\n      value: 'details',\n      fn: () => {\n        this.detailsRequested.emit(true);\n      }\n    },\n    {\n      label: 'Execute',\n      value: 'execute',\n      fn: this.execute.bind(this)\n    },\n    {\n      label: 'Fork & Edit',\n      value: 'fork',\n      fn: this.fork.bind(this)\n    },\n    {\n      label: 'Edit',\n      value: 'edit',\n      fn: this.edit.bind(this)\n    },\n    {\n      label: 'Publish',\n      value: 'publish',\n      fn: this.publish.bind(this, 'publish')\n    },\n    {\n      label: 'Schedule',\n      value: 'publish',\n      fn: this.publish.bind(this, 'schedule')\n    },\n    {\n      label: 'Export',\n      value: 'export',\n      fn: this.export.bind(this)\n    },\n    {\n      label: 'Delete',\n      value: 'delete',\n      fn: this.delete.bind(this),\n      color: 'red'\n    }\n  ];\n\n  constructor(\n    public _analyzeActionsService: AnalyzeActionsService,\n    public _jwt: JwtService\n  ) {}\n\n  ngOnInit() {\n    const privilegeMap = { print: 'export', details: 'access' };\n    const actionsToExclude = isString(this.exclude)\n      ? this.exclude.split('-')\n      : [];\n    this.actions = filter(this.actions, ({ value }) => {\n      const notExcluded = !actionsToExclude.includes(value);\n      const privilegeName = upperCase(privilegeMap[value] || value);\n      const hasPriviledge = this._jwt.hasPrivilege(privilegeName, {\n        subCategoryId: isDSLAnalysis(this.analysis)\n          ? this.analysis.category\n          : this.analysis.categoryId,\n        creatorId:\n          (<Analysis>this.analysis).userId ||\n          (<AnalysisDSL>this.analysis).createdBy\n      });\n\n      return notExcluded && hasPriviledge;\n    });\n  }\n\n  edit() {\n    this._analyzeActionsService.edit(this.analysis);\n  }\n\n  fork() {\n    this._analyzeActionsService.fork(this.analysis);\n  }\n\n  execute() {\n    this._analyzeActionsService.execute(this.analysis).then(analysis => {\n      if (analysis) {\n        this.afterExecute.emit(analysis);\n      }\n    });\n  }\n\n  delete() {\n    this._analyzeActionsService.delete(this.analysis).then(wasSuccessful => {\n      if (wasSuccessful) {\n        this.afterDelete.emit(<Analysis>this.analysis);\n      }\n    });\n  }\n\n  publish(type) {\n    const analysis = clone(this.analysis);\n    this._analyzeActionsService\n      .publish(analysis, type)\n      .then(publishedAnalysis => {\n        this.analysis = publishedAnalysis;\n        this.afterPublish.emit(publishedAnalysis);\n      });\n  }\n\n  export() {\n    this.afterExport.emit();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModuleTs } from '../../../common';\nimport { AnalyzeActionsMenuComponent } from './analyze-actions-menu.component';\nimport { AnalyzeActionsService } from './analyze-actions.service';\nimport { ExecuteService } from '../services/execute.service';\nimport { PublishService } from '../services/publish.service';\n\n\n@NgModule({\n  imports: [\n    CommonModuleTs\n  ],\n  declarations: [AnalyzeActionsMenuComponent],\n  entryComponents: [AnalyzeActionsMenuComponent],\n  providers: [\n    AnalyzeActionsService,\n    ExecuteService,\n    PublishService\n  ],\n  exports: [\n    AnalyzeActionsMenuComponent\n  ]\n})\nexport class AnalyzeActionsModule {}\n\nexport { AnalyzeActionsService };\n","import { CommonModule as CommonModuleAngular4 } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxsModule } from '@ngxs/store';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { LocalStorageModule } from 'angular-2-local-storage';\nimport { AnalyzeViewModule } from './view';\nimport { ExecutedViewModule } from './executed-view';\nimport { AnalyzeActionsModule } from './actions';\n\nimport { AnalyzeDesignerModule } from './designer/index';\n\nimport { routes } from './routes';\n\nimport { DefaultAnalyzeCategoryGuard } from './guards';\n\nimport { CommonModuleTs } from '../../common';\nimport { UChartModule } from '../../common/components/charts';\nimport { AnalyzePublishDialogModule } from './publish';\nimport { AnalyzeModuleGlobal } from './analyze.global.module';\nimport {\n  DesignerPageComponent,\n} from './designer';\n\nimport { AnalyzeFilterModule } from './designer/filter';\n\nimport { AnalyzePageComponent } from './page';\nimport { AnalyzeState } from './state/analyze.state';\n\nconst COMPONENTS = [\n  DesignerPageComponent,\n  AnalyzePageComponent\n];\n\nconst GUARDS = [DefaultAnalyzeCategoryGuard];\n\n@NgModule({\n  imports: [\n    NgxsModule.forFeature([AnalyzeState]),\n    CommonModuleAngular4,\n    LocalStorageModule.withConfig({\n      prefix: 'symmetra',\n      storageType: 'localStorage'\n    }),\n    AnalyzeDesignerModule,\n    AnalyzeModuleGlobal.forRoot(),\n    RouterModule.forChild(routes),\n    CommonModuleTs,\n    FormsModule,\n    ReactiveFormsModule,\n    UChartModule,\n    AnalyzeViewModule,\n    ExecutedViewModule,\n    AnalyzeActionsModule,\n    AnalyzeFilterModule,\n    AnalyzePublishDialogModule\n  ],\n  declarations: [...COMPONENTS],\n  entryComponents: COMPONENTS,\n  providers: [...GUARDS],\n  exports: [AnalyzePageComponent]\n})\nexport class AnalyzeModule {}\n","module.exports = \"<chart-grid [analysis]=\\\"analysis\\\"\\n            [data]=\\\"data\\\"\\n            [updater]=\\\"updater\\\">\\n</chart-grid>\\n\"","import { Component, Input } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n  selector: 'executed-chart-view',\n  templateUrl: 'executed-chart-view.component.html'\n})\n\nexport class ExecutedChartViewComponent {\n  @Input() updater: BehaviorSubject<Object[]>;\n  @Input() analysis;\n  @Input() data;\n}\n","export { ExecutedChartViewComponent } from './executed-chart-view.component';\n","module.exports = \"<mat-sidenav-container class=\\\"analysis-details-container\\\" [autosize]=\\\"false\\\">\\n  <mat-sidenav\\n    #detailsSidenav\\n    mode=\\\"over\\\"\\n    (openedChange)=\\\"onSidenavChange($event)\\\"\\n    [opened]=\\\"false\\\"\\n    position=\\\"end\\\"\\n  >\\n    <mat-card *ngIf=\\\"analysis\\\">\\n      <mat-expansion-panel [expanded]=\\\"true\\\">\\n        <mat-expansion-panel-header>\\n          <span class=\\\"expansion-title\\\" i18n>Analysis Details</span>\\n        </mat-expansion-panel-header>\\n        <mat-divider></mat-divider>\\n\\n        <div class=\\\"detail-top\\\">\\n          <strong *ngIf=\\\"analysis.userFullName || analysis.createdBy\\\">Created By:</strong>\\n          {{ analysis.userFullName || analysis.createdBy | changeCase: 'title' }}\\n        </div>\\n        <div>\\n          <strong *ngIf=\\\"analysis.createdTimestamp || analysis.createdTime\\\">Created Time:</strong>\\n          {{ utcToLocal(analysis.createdTimestamp) || utcToLocal(analysis.createdTime)}}\\n        </div>\\n        <div>\\n          <strong *ngIf=\\\"analysis.updatedUserName || analysis.modifiedBy\\\">Last Modified By:</strong>\\n          {{ analysis.updatedUserName || analysis.modifiedBy}}\\n        </div>\\n        <div>\\n          <strong *ngIf=\\\"analysis.updatedTimestamp || analysis.modifiedTime\\\">Last Modified Time:</strong>\\n          {{ utcToLocal(analysis.updatedTimestamp) || utcToLocal(analysis.modifiedTime) }}\\n        </div>\\n        <div>\\n          <strong *ngIf=\\\"executedBy\\\">Executed By:</strong> {{ executedBy }}\\n        </div>\\n        <div>\\n          <strong *ngIf=\\\"executedAt\\\">Execution Time:</strong>\\n          {{ executedAt }}\\n        </div>\\n        <div class=\\\"analysis-detail-description\\\">\\n          <strong *ngIf=\\\"analysis.description\\\">Description</strong>\\n          <p>{{ analysis.description }}</p>\\n        </div>\\n        <div>\\n          <strong *ngIf=\\\"analysis.scheduleHuman\\\">Schedule:</strong>\\n          {{ analysis.scheduleHuman }}\\n        </div>\\n      </mat-expansion-panel>\\n    </mat-card>\\n\\n    <mat-card>\\n      <mat-expansion-panel [expanded]=\\\"false\\\">\\n        <mat-expansion-panel-header>\\n          <span class=\\\"expansion-title\\\" i18n>Previous Versions</span>\\n        </mat-expansion-panel-header>\\n\\n        <mat-divider></mat-divider>\\n        <executed-list\\n          *ngIf=\\\"analysis && analyses && analyses.length\\\"\\n          style=\\\"padding-top: 20px;\\\"\\n          [analyses]=\\\"analyses\\\"\\n          [analysis]=\\\"analysis\\\"\\n          (selectExecution)=\\\"onSelectExecution($event)\\\"\\n        ></executed-list>\\n      </mat-expansion-panel>\\n    </mat-card>\\n  </mat-sidenav>\\n  <mat-sidenav-content\\n    [ngClass]=\\\"analysis && analysis.type === 'chart' ? 'executed-view' : ''\\\"\\n  >\\n    <div fxLayout=\\\"column\\\">\\n      <mat-toolbar fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n        <div fxLayout=\\\"row\\\">\\n          <button\\n            (click)=\\\"goBackToMainPage(analysis)\\\"\\n            mat-icon-button\\n            style=\\\"margin-right: 10px;\\\"\\n          >\\n            <mat-icon\\n              class=\\\"back-button-icon\\\"\\n              fontIcon=\\\"icon-arrow-left\\\"\\n            ></mat-icon>\\n          </button>\\n          <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\">\\n            <div *ngIf=\\\"analysis\\\">\\n              <span class=\\\"analysis__title\\\" e2e=\\\"analysis__title\\\">{{\\n                analysis.name\\n              }}</span>\\n              <label *ngIf=\\\"isExecuting\\\" class=\\\"execution-tag\\\" i18n\\n                >Executing</label\\n              >\\n            </div>\\n            <div *ngIf=\\\"analysis\\\" class=\\\"analysis__subheader\\\">\\n              <!-- {{ analysis.metrics }} -->\\n            </div>\\n          </div>\\n        </div>\\n        <div>\\n          <button\\n            *ngIf=\\\"canUserEdit\\\"\\n            mat-button\\n            e2e=\\\"action-edit-btn\\\"\\n            (click)=\\\"edit()\\\"\\n          >\\n            <span i18n>Edit</span>\\n          </button>\\n          <button\\n            *ngIf=\\\"canUserFork\\\"\\n            mat-button\\n            e2e=\\\"action-fork-btn\\\"\\n            (click)=\\\"fork()\\\"\\n          >\\n            <span i18n>Fork & Edit</span>\\n          </button>\\n\\n          <analyze-actions-menu-u\\n            *ngIf=\\\"analysis\\\"\\n            [analysis]=\\\"analysis\\\"\\n            exclude=\\\"fork-edit\\\"\\n            (detailsRequested)=\\\"detailsSidenav.toggle()\\\"\\n            [actionsToDisable]=\\\"isExecuting ? 'execute' : ''\\\"\\n            (afterDelete)=\\\"afterDelete(analysis)\\\"\\n            (afterPublish)=\\\"afterPublish($event)\\\"\\n            (afterExport)=\\\"exportData()\\\"\\n          ></analyze-actions-menu-u>\\n        </div>\\n      </mat-toolbar>\\n      <mat-card class=\\\"executed-view-analysis\\\">\\n        <filter-chips-u\\n          *ngIf=\\\"\\n            analysis &&\\n            executedAnalysis &&\\n            !(analysis.type === 'report' && analysis.edit) &&\\n            (executedAnalysis.sipQuery || executedAnalysis.sqlBuilder).filters\\n              .length > 0\\n          \\\"\\n          [filters]=\\\"filters\\\"\\n          [readonly]=\\\"true\\\"\\n          [artifacts]=\\\"metric && metric.artifacts\\\"\\n        ></filter-chips-u>\\n\\n        <div *ngIf=\\\"!executionId && !hasExecution && noPreviousExecution\\\">\\n          <div\\n            class=\\\"prompt-execution-container\\\"\\n            fxLayout=\\\"column\\\"\\n            fxLayoutAlign=\\\"center center\\\"\\n          >\\n            <span i18n\\n              >This analysis hasn't been been executed yet. Execute it\\n              now?</span\\n            >\\n            <button\\n              mat-raised-button\\n              color=\\\"primary\\\"\\n              [disabled]=\\\"isExecuting\\\"\\n              (click)=\\\"executeAnalysis(analysis)\\\"\\n              i18n\\n            >\\n              Execute\\n            </button>\\n          </div>\\n        </div>\\n\\n        <div\\n          *ngIf=\\\"analysis && (executionId || hasExecution)\\\"\\n          [ngSwitch]=\\\"analysis.type\\\"\\n        >\\n          <executed-report-view\\n            *ngSwitchCase=\\\"\\n              analysis.type === 'report' || analysis.type === 'esReport'\\n                ? analysis.type\\n                : ''\\n            \\\"\\n            [analysis]=\\\"executedAnalysis\\\"\\n            [dataLoader]=\\\"dataLoader\\\"\\n          >\\n          </executed-report-view>\\n          <executed-pivot-view\\n            *ngSwitchCase=\\\"'pivot'\\\"\\n            [analysis]=\\\"executedAnalysis\\\"\\n            [data]=\\\"data\\\"\\n            [updater]=\\\"pivotUpdater$\\\"\\n          >\\n          </executed-pivot-view>\\n          <executed-chart-view\\n            *ngSwitchCase=\\\"'chart'\\\"\\n            [analysis]=\\\"executedAnalysis\\\"\\n            [data]=\\\"data\\\"\\n            [updater]=\\\"chartUpdater$\\\"\\n            class=\\\"executed-chart-analysis\\\"\\n          >\\n          </executed-chart-view>\\n\\n          <div *ngSwitchCase=\\\"'map'\\\">\\n            <executed-map-view\\n              *ngIf=\\\"analysis.type | isAnalysisType: 'map':analysis?.chartType\\\"\\n              [analysis]=\\\"executedAnalysis\\\"\\n              [data]=\\\"data\\\"\\n            >\\n            </executed-map-view>\\n            <executed-map-chart-view\\n              *ngIf=\\\"\\n                analysis.type | isAnalysisType: 'mapChart':analysis?.chartType\\n              \\\"\\n              [analysis]=\\\"executedAnalysis\\\"\\n              [data]=\\\"data\\\"\\n              [updater]=\\\"chartUpdater$\\\"\\n              [actionBus]=\\\"chartActionBus$\\\"\\n            >\\n            </executed-map-chart-view>\\n          </div>\\n        </div>\\n      </mat-card>\\n    </div>\\n  </mat-sidenav-content>\\n</mat-sidenav-container>\\n\"","module.exports = \":host {\\n  width: 100%; }\\n\\nfilter-chips-u {\\n  padding: 11px 0 10px 10px; }\\n\\n.back-button-icon.mat-icon {\\n  font-size: 32px;\\n  line-height: 32px;\\n  width: 32px;\\n  height: 32px; }\\n\\n.prompt-execution-container {\\n  padding: 50px;\\n  text-align: center;\\n  font-size: 14px; }\\n\\n.prompt-execution-container button {\\n    margin-top: 15px; }\\n\\n.mat-card {\\n  color: #5c6670;\\n  padding: 0;\\n  margin: 10px; }\\n\\n.mat-toolbar {\\n  background-color: transparent;\\n  color: #5c6670; }\\n\\n.mat-toolbar .analysis__title {\\n    font-size: 24px; }\\n\\n.mat-toolbar .analysis__subheader {\\n    font-size: 16px; }\\n\\n::ng-deep mat-sidenav-container.analysis-details-container {\\n  height: 100%; }\\n\\n::ng-deep mat-sidenav-container.analysis-details-container ::ng-deep mat-sidenav {\\n    width: 400px; }\\n\\n::ng-deep mat-sidenav-container.analysis-details-container ::ng-deep .mat-drawer-backdrop:not(.mat-drawer-shown) ~ mat-sidenav * {\\n    display: none; }\\n\\n.mat-drawer-content.executed-view {\\n  overflow-y: scroll; }\\n\\n.execution-tag {\\n  padding: 0 2px;\\n  font-size: 11px;\\n  text-transform: uppercase;\\n  background-color: #ff9000;\\n  color: #fff;\\n  vertical-align: top; }\\n\\n.expansion-title {\\n  font-size: 20px;\\n  font-weight: 500;\\n  letter-spacing: 0.005em;\\n  color: #5c6670; }\\n\\n.detail-top {\\n  padding-top: 10px; }\\n\\n.analysis-detail-description {\\n  margin: 1em 0; }\\n\\n.analysis-detail-description p {\\n    margin: 0; }\\n\\n.chart-data-grid .dx-datagrid .dx-datagrid-rowsview .dx-datagrid-content table tbody tr.dx-data-row td {\\n  text-align: left !important; }\\n\\n.chart-data-grid .dx-datagrid .dx-datagrid-headers .dx-datagrid-content table tbody tr.dx-header-row td {\\n  text-align: left !important; }\\n\\n.executed-view-analysis {\\n  margin: 0 10px 0 10px; }\\n\\n.executed-chart-analysis {\\n  height: calc(100vh - 270px) !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvZXhlY3V0ZWQtdmlldy9leGVjdXRlZC12aWV3LmNvbXBvbmVudC5zY3NzIiwiL1VzZXJzL2Jhcm5hbXVtdHlhbi9Qcm9qZWN0cy9tb2R1cy9zaXAvc2F3LXdlYi9zcmMvdGhlbWVzL2Jhc2UvX2NvbG9ycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBO0VBQ0UsV0FBVyxFQUFBOztBQUdiO0VBQ0UseUJBQXlCLEVBQUE7O0FBSTNCO0VBQ0UsZUFacUI7RUFhckIsaUJBYnFCO0VBY3JCLFdBZHFCO0VBZXJCLFlBZnFCLEVBQUE7O0FBa0J2QjtFQUNFLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsZUFBZSxFQUFBOztBQUhqQjtJQU1JLGdCQUFnQixFQUFBOztBQUlwQjtFQUNFLGNDZHVCO0VEZXZCLFVBQVU7RUFDVixZQUFZLEVBQUE7O0FBR2Q7RUFDRSw2QkFBNkI7RUFDN0IsY0NyQnVCLEVBQUE7O0FEbUJ6QjtJQUtJLGVBQWUsRUFBQTs7QUFMbkI7SUFTSSxlQUFlLEVBQUE7O0FBSW5CO0VBQ0UsWUFBWSxFQUFBOztBQURkO0lBSUksWUFBWSxFQUFBOztBQUpoQjtJQVNNLGFBQWEsRUFBQTs7QUFJbkI7RUFDRSxrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLHlCQUF5QjtFQUN6Qix5QkN4Q3dCO0VEeUN4QixXQ2pEa0I7RURrRGxCLG1CQUFtQixFQUFBOztBQUdyQjtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsdUJBQXVCO0VBQ3ZCLGNDOUR1QixFQUFBOztBRGlFekI7RUFDRSxpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxhQUFhLEVBQUE7O0FBRGY7SUFJSSxTQUFTLEVBQUE7O0FBSWI7RUFDRSwyQkFBMkIsRUFBQTs7QUFHN0I7RUFDRSwyQkFBMkIsRUFBQTs7QUFHN0I7RUFDRSxxQkFBcUIsRUFBQTs7QUFHdkI7RUFDRSxzQ0FBc0MsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW5hbHl6ZS9leGVjdXRlZC12aWV3L2V4ZWN1dGVkLXZpZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIgIEBpbXBvcnQgXCJzcmMvdGhlbWVzL2Jhc2UvY29sb3JzXCI7XG5cbiRiYWNrLWJ1dHRvbi1zaXplOiAzMnB4O1xuXG46aG9zdCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5maWx0ZXItY2hpcHMtdSB7XG4gIHBhZGRpbmc6IDExcHggMCAxMHB4IDEwcHg7XG59XG5cblxuLmJhY2stYnV0dG9uLWljb24ubWF0LWljb24ge1xuICBmb250LXNpemU6ICRiYWNrLWJ1dHRvbi1zaXplO1xuICBsaW5lLWhlaWdodDogJGJhY2stYnV0dG9uLXNpemU7XG4gIHdpZHRoOiAkYmFjay1idXR0b24tc2l6ZTtcbiAgaGVpZ2h0OiAkYmFjay1idXR0b24tc2l6ZTtcbn1cblxuLnByb21wdC1leGVjdXRpb24tY29udGFpbmVyIHtcbiAgcGFkZGluZzogNTBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDE0cHg7XG5cbiAgYnV0dG9uIHtcbiAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICB9XG59XG5cbi5tYXQtY2FyZCB7XG4gIGNvbG9yOiAkcHJpbWFyeS1ncmV5LWc0O1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDEwcHg7XG59XG5cbi5tYXQtdG9vbGJhciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogJHByaW1hcnktZ3JleS1nNDtcblxuICAuYW5hbHlzaXNfX3RpdGxlIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gIH1cblxuICAuYW5hbHlzaXNfX3N1YmhlYWRlciB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG59XG5cbjo6bmctZGVlcCBtYXQtc2lkZW5hdi1jb250YWluZXIuYW5hbHlzaXMtZGV0YWlscy1jb250YWluZXIge1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgOjpuZy1kZWVwIG1hdC1zaWRlbmF2IHtcbiAgICB3aWR0aDogNDAwcHg7XG4gIH1cblxuICA6Om5nLWRlZXAgLm1hdC1kcmF3ZXItYmFja2Ryb3A6bm90KC5tYXQtZHJhd2VyLXNob3duKSB+IG1hdC1zaWRlbmF2IHtcbiAgICAqIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG59XG4ubWF0LWRyYXdlci1jb250ZW50LmV4ZWN1dGVkLXZpZXcge1xuICBvdmVyZmxvdy15OiBzY3JvbGw7XG59XG5cbi5leGVjdXRpb24tdGFnIHtcbiAgcGFkZGluZzogMCAycHg7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHNlY29uZGFyeS1vcmFuZ2U7XG4gIGNvbG9yOiAkcHJpbWFyeS13aGl0ZTtcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcbn1cblxuLmV4cGFuc2lvbi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMDA1ZW07XG4gIGNvbG9yOiAkcHJpbWFyeS1ncmV5LWc0O1xufVxuXG4uZGV0YWlsLXRvcCB7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xufVxuXG4uYW5hbHlzaXMtZGV0YWlsLWRlc2NyaXB0aW9uIHtcbiAgbWFyZ2luOiAxZW0gMDtcblxuICBwIHtcbiAgICBtYXJnaW46IDA7XG4gIH1cbn1cblxuLmNoYXJ0LWRhdGEtZ3JpZCAuZHgtZGF0YWdyaWQgLmR4LWRhdGFncmlkLXJvd3N2aWV3IC5keC1kYXRhZ3JpZC1jb250ZW50IHRhYmxlIHRib2R5IHRyLmR4LWRhdGEtcm93IHRkIHtcbiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xufVxuXG4uY2hhcnQtZGF0YS1ncmlkIC5keC1kYXRhZ3JpZCAuZHgtZGF0YWdyaWQtaGVhZGVycyAuZHgtZGF0YWdyaWQtY29udGVudCB0YWJsZSB0Ym9keSB0ci5keC1oZWFkZXItcm93IHRkIHtcbiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xufVxuXG4uZXhlY3V0ZWQtdmlldy1hbmFseXNpcyB7XG4gIG1hcmdpbjogMCAxMHB4IDAgMTBweDtcbn1cblxuLmV4ZWN1dGVkLWNoYXJ0LWFuYWx5c2lzIHtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMjcwcHgpICFpbXBvcnRhbnQ7XG59XG4iLCIvLyBCcmFuZGluZyBjb2xvcnNcbiRwcmltYXJ5LWJsdWUtYjE6ICMxYTg5ZDQ7XG4kcHJpbWFyeS1ibHVlLWIyOiAjMDA3N2JlO1xuJHByaW1hcnktYmx1ZS1iMzogIzIwNmJjZTtcbiRwcmltYXJ5LWJsdWUtYjQ6ICMxZDNhYjI7XG5cbiRwcmltYXJ5LWhvdmVyLWJsdWU6ICMxZDYxYjE7XG4kZ3JpZC1ob3Zlci1jb2xvcjogI2Y1ZjlmYztcbiRncmlkLWhlYWRlci1iZy1jb2xvcjogI2Q3ZWFmYTtcbiRncmlkLWhlYWRlci1jb2xvcjogIzBiNGQ5OTtcbiRncmlkLXRleHQtY29sb3I6ICM0NjQ2NDY7XG4kZ3JleS10ZXh0LWNvbG9yOiAjNjM2MzYzO1xuXG4kc2VsZWN0aW9uLWhpZ2hsaWdodC1jb2w6IHJnYmEoMCwgMTQwLCAyNjAsIDAuMik7XG4kcHJpbWFyeS1ncmV5LWcxOiAjZDFkM2QzO1xuJHByaW1hcnktZ3JleS1nMjogIzk5OTtcbiRwcmltYXJ5LWdyZXktZzM6ICM3MzczNzM7XG4kcHJpbWFyeS1ncmV5LWc0OiAjNWM2NjcwO1xuJHByaW1hcnktZ3JleS1nNTogIzMxMzEzMTtcbiRwcmltYXJ5LWdyZXktZzY6ICNmNWY1ZjU7XG4kcHJpbWFyeS1ncmV5LWc3OiAjM2QzZDNkO1xuXG4kcHJpbWFyeS13aGl0ZTogI2ZmZjtcbiRwcmltYXJ5LWJsYWNrOiAjMDAwO1xuJHByaW1hcnktcmVkOiAjYWIwZTI3O1xuJHByaW1hcnktZ3JlZW46ICM3M2I0MjE7XG4kcHJpbWFyeS1vcmFuZ2U6ICNmMDc2MDE7XG5cbiRzZWNvbmRhcnktZ3JlZW46ICM2ZmIzMjA7XG4kc2Vjb25kYXJ5LXllbGxvdzogI2ZmYmUwMDtcbiRzZWNvbmRhcnktb3JhbmdlOiAjZmY5MDAwO1xuJHNlY29uZGFyeS1yZWQ6ICNkOTNlMDA7XG4kc2Vjb25kYXJ5LWJlcnJ5OiAjYWMxNDVhO1xuJHNlY29uZGFyeS1wdXJwbGU6ICM5MTQxOTE7XG5cbiRzdHJpbmctdHlwZS1jb2xvcjogIzQ5OTViMjtcbiRudW1iZXItdHlwZS1jb2xvcjogIzAwYjE4MDtcbiRnZW8tdHlwZS1jb2xvcjogIzg0NWVjMjtcbiRkYXRlLXR5cGUtY29sb3I6ICNkMTk2MjE7XG5cbiR0eXBlLWNoaXAtb3BhY2l0eTogMTtcbiRzdHJpbmctdHlwZS1jaGlwLWNvbG9yOiByZ2JhKCRzdHJpbmctdHlwZS1jb2xvciwgJHR5cGUtY2hpcC1vcGFjaXR5KTtcbiRudW1iZXItdHlwZS1jaGlwLWNvbG9yOiByZ2JhKCRudW1iZXItdHlwZS1jb2xvciwgJHR5cGUtY2hpcC1vcGFjaXR5KTtcbiRnZW8tdHlwZS1jaGlwLWNvbG9yOiByZ2JhKCRnZW8tdHlwZS1jb2xvciwgJHR5cGUtY2hpcC1vcGFjaXR5KTtcbiRkYXRlLXR5cGUtY2hpcC1jb2xvcjogcmdiYSgkZGF0ZS10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuXG4kcmVwb3J0LWRlc2lnbmVyLXNldHRpbmdzLWJnLWNvbG9yOiAjZjVmOWZjO1xuJGJhY2tncm91bmQtY29sb3I6ICNmNWY5ZmM7XG4iXX0= */\"","import { MatSidenav } from '@angular/material';\nimport { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as get from 'lodash/get';\nimport * as find from 'lodash/find';\nimport * as moment from 'moment';\nimport {\n  Subscription,\n  Subject,\n  BehaviorSubject,\n  combineLatest,\n  timer\n} from 'rxjs';\nimport { debounce } from 'rxjs/operators';\nimport * as clone from 'lodash/clone';\nimport * as forEach from 'lodash/forEach';\n\nimport {\n  AnalyzeService,\n  EXECUTION_MODES,\n  EXECUTION_DATA_MODES\n} from '../services/analyze.service';\nimport { AnalyzeExportService } from '../services/analyze-export.service';\nimport {\n  ExecuteService,\n  IExecuteEventEmitter,\n  EXECUTION_STATES\n} from '../services/execute.service';\nimport { ToastService } from '../../../common/services/toastMessage.service';\nimport {\n  flattenPivotData,\n  flattenChartData,\n  flattenReportData\n} from '../../../common/utils/dataFlattener';\nimport { IPivotGridUpdate } from '../../../common/components/pivot-grid/pivot-grid.component';\nimport { AnalyzeActionsService } from '../actions';\n\nimport { Analysis, AnalysisDSL } from '../types';\nimport { JwtService, CUSTOM_JWT_CONFIG } from '../../../common/services';\nimport { isUndefined } from 'util';\nimport { isDSLAnalysis, Filter } from '../designer/types';\nimport { CUSTOM_DATE_PRESET_VALUE } from './../consts';\n\n@Component({\n  selector: 'executed-view',\n  templateUrl: './executed-view.component.html',\n  styleUrls: ['./executed-view.component.scss']\n})\nexport class ExecutedViewComponent implements OnInit, OnDestroy {\n  analysis: Analysis | AnalysisDSL; // the latest analysis definition\n  executedAnalysis: Analysis | AnalysisDSL; // the exact analysis that was executed\n  analyses: Analysis[];\n  metric: any;\n  onetimeExecution: boolean;\n  executedBy: string;\n  executedAt: any;\n  data: any[];\n  dataLoader: Function;\n  canAutoRefresh: boolean;\n  canUserPublish = false;\n  canUserFork = false;\n  canUserEdit = false;\n  canUserExecute = false;\n  isExecuting = false;\n  executionsSub: Subscription;\n  executionSub: Subscription;\n  executionId: string;\n  noPreviousExecution = false;\n  hasExecution = false;\n  pivotUpdater$: Subject<IPivotGridUpdate> = new Subject<IPivotGridUpdate>();\n  chartUpdater$: BehaviorSubject<Object> = new BehaviorSubject<Object>({});\n  chartActionBus$: Subject<Object> = new Subject<Object>();\n  public filters: Filter[] = [];\n\n  @ViewChild('detailsSidenav') detailsSidenav: MatSidenav;\n\n  constructor(\n    public _executeService: ExecuteService,\n    public _analyzeService: AnalyzeService,\n    public _router: Router,\n    public _route: ActivatedRoute,\n    public _analyzeActionsService: AnalyzeActionsService,\n    public _jwt: JwtService,\n    public _analyzeExportService: AnalyzeExportService,\n    public _toastMessage: ToastService\n  ) {\n    this.onExecutionEvent = this.onExecutionEvent.bind(this);\n    this.onExecutionsEvent = this.onExecutionsEvent.bind(this);\n  }\n\n  ngOnInit() {\n    combineLatest(this._route.params, this._route.queryParams)\n      .pipe(debounce(() => timer(100)))\n      .subscribe(([params, queryParams]) => {\n        this.onParamsChange(params, queryParams);\n      });\n\n    this.canAutoRefresh = this._jwt.hasCustomConfig(\n      CUSTOM_JWT_CONFIG.ES_ANALYSIS_AUTO_REFRESH\n    );\n  }\n\n  fetchFilters(analysis) {\n    const queryBuilder = isDSLAnalysis(analysis)\n      ? analysis.sipQuery\n      : analysis.sqlBuilder;\n    this.filters = isDSLAnalysis(analysis)\n      ? this.generateDSLDateFilters(queryBuilder.filters)\n      : queryBuilder.filters;\n  }\n\n  generateDSLDateFilters(filters) {\n    forEach(filters, filtr => {\n      if (\n        !filtr.isRuntimeFilter &&\n        !filtr.isGlobalFilter &&\n        (filtr.type === 'date' && filtr.model.operator === 'BTW')\n      ) {\n        filtr.model.gte = moment(filtr.model.value).format('YYYY-MM-DD');\n        filtr.model.lte = moment(filtr.model.otherValue).format('YYYY-MM-DD');\n        filtr.model.preset = CUSTOM_DATE_PRESET_VALUE;\n      }\n    });\n    return filters;\n  }\n\n  onParamsChange(params, queryParams) {\n    const { analysisId } = params;\n    const {\n      awaitingExecution,\n      loadLastExecution,\n      executionId,\n      isDSL\n    } = queryParams;\n\n    this.executionId = executionId;\n    this.loadAnalysisById(analysisId, isDSL === 'true').then(\n      (analysis: Analysis | AnalysisDSL) => {\n        this.analysis = analysis;\n        this.setPrivileges(analysis);\n        this.fetchFilters(analysis);\n        /* If an execution is not already going on, create a new execution\n         * as applicable. */\n        this.executeIfNotWaiting(\n          analysis,\n          /* awaitingExecution and loadLastExecution paramaters are supposed to be boolean,\n           * but all query params come as strings. So typecast them properly */\n          awaitingExecution === 'true',\n          loadLastExecution === 'true',\n          executionId\n        );\n      }\n    );\n\n    this.executionsSub = this._executeService.subscribe(\n      analysisId,\n      this.onExecutionsEvent\n    );\n  }\n\n  ngOnDestroy() {\n    if (this.executionsSub) {\n      this.executionsSub.unsubscribe();\n    }\n  }\n\n  executeIfNotWaiting(\n    analysis,\n    awaitingExecution,\n    loadLastExecution,\n    executionId\n  ) {\n    if (awaitingExecution) {\n      return;\n    }\n    const isDataLakeReport = analysis.type === 'report';\n    if (\n      executionId ||\n      loadLastExecution ||\n      isDataLakeReport ||\n      !this.canAutoRefresh\n    ) {\n      this.loadExecutedAnalysesAndExecutionData(\n        analysis.id,\n        executionId,\n        analysis.type,\n        null\n      );\n    } else {\n      this.executeAnalysis(analysis, EXECUTION_MODES.LIVE);\n    }\n  }\n\n  onSidenavChange(isOpen: boolean) {\n    if (isOpen && !this.analyses) {\n      this.loadExecutedAnalyses(\n        this.analysis.id,\n        isDSLAnalysis(this.analysis)\n      ).then(analyses => {\n        const lastExecutionId = get(analyses, '[0].id', null);\n        if (!this.executionId && lastExecutionId) {\n          this.executionId = lastExecutionId;\n          if (!this.executedAt) {\n            this.setExecutedAt(this.executionId);\n          }\n        }\n      });\n    }\n  }\n\n  onExecutionsEvent(e: IExecuteEventEmitter) {\n    if (!e.subject.isStopped) {\n      e.subject.subscribe(this.onExecutionEvent);\n    }\n  }\n\n  onExecutionEvent({ state, response }) {\n    /* prettier-ignore */\n    switch (state) {\n    case EXECUTION_STATES.SUCCESS:\n      setTimeout(() => {\n        this.onExecutionSuccess(response);\n      }, 500);\n      break;\n    case EXECUTION_STATES.ERROR:\n      this.onExecutionError();\n      break;\n    default:\n    }\n\n    this.isExecuting = state === EXECUTION_STATES.EXECUTING;\n  }\n\n  onExecutionSuccess(response) {\n    if (isUndefined(this.analysis)) {\n      return;\n    }\n    const thereIsDataLoaded = this.data || this.dataLoader;\n    const isDataLakeReport = get(this.analysis, 'type') === 'report';\n    this.onetimeExecution = response.executionType !== EXECUTION_MODES.PUBLISH;\n    this.filters = isDSLAnalysis(this.analysis)\n      ? this.generateDSLDateFilters(response.queryBuilder.filters)\n      : response.queryBuilder.filters;\n    if (isDataLakeReport && thereIsDataLoaded) {\n      this._toastMessage.success(\n        'Tap this message to reload data.',\n        'Execution finished',\n        {\n          timeOut: 0,\n          extendedTimeOut: 0,\n          closeButton: true,\n          onclick: () =>\n            this.loadExecutedAnalysesAndExecutionData(\n              get(this.analysis, 'id'),\n              response.executionId,\n              get(this.analysis, 'type'),\n              response\n            )\n        }\n      );\n    } else {\n      this.loadExecutedAnalysesAndExecutionData(\n        get(this.analysis, 'id'),\n        response.executionId,\n        get(this.analysis, 'type'),\n        response\n      );\n    }\n  }\n\n  onExecutionError() {\n    this.onetimeExecution = false;\n    this.loadExecutedAnalysesAndExecutionData(\n      this.analysis.id,\n      null,\n      this.analysis.type,\n      null\n    );\n  }\n\n  onSelectExecution(executionId) {\n    if (!executionId) {\n      return;\n    }\n    this.detailsSidenav && this.detailsSidenav.close();\n    window['siden'] = this.detailsSidenav;\n    this.onetimeExecution = false;\n    this._router.navigate(\n      ['analyze', 'analysis', this.analysis.id, 'executed'],\n      {\n        queryParams: {\n          executionId,\n          awaitingExecution: false,\n          loadLastExecution: false,\n          isDSL: isDSLAnalysis(this.analysis)\n        }\n      }\n    );\n  }\n\n  executeAnalysis(analysis, mode) {\n    this._analyzeActionsService\n      .execute(analysis, mode)\n      .then(executionStarted => {\n        // this.afterExecuteLaunched(analysis);\n        if (!executionStarted && !this.analyses) {\n          // at least load the executed analyses if none are loaded\n          this.loadExecutedAnalysesAndExecutionData(\n            analysis.id,\n            null,\n            analysis.type,\n            null\n          );\n        }\n      });\n  }\n\n  loadExecutedAnalysesAndExecutionData(\n    analysisId,\n    executionId,\n    analysisType,\n    executeResponse\n  ) {\n    this.executionId = executionId;\n    this.loadDataOrSetDataLoader(\n      analysisId,\n      executionId,\n      analysisType,\n      executeResponse\n    );\n  }\n\n  gotoLastPublished(analysis, { executionId }) {\n    return () => {\n      this._toastMessage.clear();\n      this._router.navigate(['analyze', 'analysis', analysis.id, 'executed'], {\n        queryParams: {\n          executionId,\n          awaitingExecution: false,\n          loadLastExecution: true\n        }\n      });\n    };\n  }\n\n  setExecutedBy(executedBy) {\n    this.executedBy =\n      executedBy ||\n      (this.onetimeExecution ? this._jwt.getLoginId() : 'Scheduled');\n  }\n\n  setExecutedAt(executionId) {\n    const finished = (\n      find(this.analyses, execution => execution.id === executionId) || {\n        finished: null\n      }\n    ).finished;\n\n    this.executedAt = finished ? this.utcToLocal(finished) : this.executedAt;\n  }\n\n  loadExecutedAnalyses(analysisId, isDSL) {\n    return this._analyzeService\n      .getPublishedAnalysesByAnalysisId(analysisId, isDSL)\n      .then(\n        (analyses: Analysis[]) => {\n          this.analyses = analyses;\n          this.noPreviousExecution = !analyses || !analyses.length;\n          this.setExecutedAt(this.executionId);\n          return analyses;\n        },\n        err => {\n          throw err;\n        }\n      );\n  }\n\n  loadAnalysisById(analysisId, isDSL: boolean) {\n    return this._analyzeService\n      .readAnalysis(analysisId, isDSL)\n      .then((analysis: Analysis) => {\n        this.analysis = analysis;\n        // this._analyzeService\n        //   .getLastExecutionData(this.analysis.id, {\n        //     analysisType: this.analysis.type\n        //   })\n        //   .then(data => {\n        //     console.log(data);\n        //   });\n        this.executedAnalysis = { ...this.analysis };\n        /* Get metrics to get full artifacts. Needed to show filters for fields\n        that aren't selected for data */\n        return this._analyzeService\n          .getArtifactsForDataSet(this.analysis.semanticId)\n          .toPromise();\n      })\n      .then(metric => {\n        this.metric = metric;\n        return this.analysis;\n      });\n  }\n\n  loadDataOrSetDataLoader(\n    analysisId,\n    executionId,\n    analysisType,\n    executeResponse = null\n  ) {\n    // report type data will be loaded by the report grid, because of the paging mechanism\n    const isReportType = ['report', 'esReport'].includes(analysisType);\n    if (isReportType) {\n      /* The Execution data loader defers data loading to the report grid, so it can load the data needed depending on paging */\n      if (executeResponse) {\n        executeResponse.data = clone(\n          flattenReportData(executeResponse.data, this.executedAnalysis)\n        );\n        // resolve the data that is sent by the execution\n        // and the paginated data after that\n        this.executedAnalysis = {\n          ...this.analysis,\n          ...(isDSLAnalysis(this.executedAnalysis)\n            ? {\n                sipQuery:\n                  executeResponse.queryBuilder || this.executedAnalysis.sipQuery\n              }\n            : {\n                sqlBuilder:\n                  executeResponse.queryBuilder ||\n                  this.executedAnalysis.sqlBuilder\n              })\n        };\n        this.fetchFilters(this.executedAnalysis);\n        this.setExecutedBy(executeResponse.executedBy);\n        this.executedAt = this.utcToLocal(executeResponse.executedAt);\n\n        let isItFirstTime = true;\n        this.dataLoader = options => {\n          if (isItFirstTime) {\n            isItFirstTime = false;\n            return Promise.resolve({\n              data: executeResponse.data,\n              totalCount: executeResponse.count\n            });\n          }\n          return this.loadExecutionData(\n            analysisId,\n            executionId,\n            analysisType,\n            this.onetimeExecution\n              ? { ...options, executionType: EXECUTION_DATA_MODES.ONETIME }\n              : options\n          );\n        };\n      } else {\n        /* Mark hasExecution temporarily as true to allow fetch of data.\n           It'll be marked false if data is not found (no execution exists).\n        */\n        this.hasExecution = true;\n        this.dataLoader = options => {\n          return this.loadExecutionData(\n            analysisId,\n            executionId,\n            analysisType,\n            this.onetimeExecution\n              ? { ...options, executionType: EXECUTION_DATA_MODES.ONETIME }\n              : options\n          );\n        };\n      }\n    } else {\n      if (executeResponse) {\n        this.executedAnalysis = {\n          ...this.analysis,\n          ...(isDSLAnalysis(this.executedAnalysis)\n            ? {\n                sipQuery:\n                  executeResponse.queryBuilder || this.executedAnalysis.sipQuery\n              }\n            : {\n                sqlBuilder:\n                  executeResponse.queryBuilder ||\n                  this.executedAnalysis.sqlBuilder\n              })\n        };\n        this.setExecutedBy(executeResponse.executedBy);\n        this.executedAt = this.utcToLocal(executeResponse.executedAt);\n        this.data = this.flattenData(\n          executeResponse.data,\n          this.executedAnalysis\n        );\n      } else {\n        this.loadExecutionData(analysisId, executionId, analysisType).then(\n          ({ data }) => {\n            this.data = this.flattenData(data, this.executedAnalysis);\n          }\n        );\n      }\n    }\n  }\n\n  utcToLocal(utcTime) {\n    return moment\n      .utc(utcTime)\n      .local()\n      .format('YYYY/MM/DD h:mm A');\n  }\n\n  flattenData(data, analysis) {\n    /* prettier-ignore */\n    switch (analysis.type) {\n    case 'pivot':\n      return flattenPivotData(data, (<AnalysisDSL>analysis).sipQuery || (<Analysis>analysis).sqlBuilder);\n    case 'chart':\n    case 'map':\n      return flattenChartData(data, isDSLAnalysis(analysis) ? analysis.sipQuery : analysis.sqlBuilder);\n    default:\n      return data;\n    }\n  }\n\n  loadExecutionData(analysisId, executionId, analysisType, options: any = {}) {\n    options.analysisType = analysisType;\n    options.isDSL = isDSLAnalysis(this.analysis);\n    return (executionId\n      ? this._analyzeService.getExecutionData(analysisId, executionId, options)\n      : this._analyzeService.getLastExecutionData(analysisId, options)\n    ).then(\n      ({ data, count, queryBuilder, executedBy }) => {\n        /* Check if a successful execution data is returned. */\n        this.hasExecution =\n          Boolean(data.length) || Boolean(queryBuilder) || Boolean(executedBy);\n        /* If there's no execution id (loading last execution) and there's no\n          execution data as well, then we can deduce there's no previous\n          execution for this analysis present */\n        this.noPreviousExecution = !executionId && !this.hasExecution;\n        if (this.executedAnalysis && queryBuilder) {\n          if (isDSLAnalysis(this.executedAnalysis)) {\n            this.executedAnalysis.sipQuery = queryBuilder;\n          } else {\n            this.executedAnalysis.sqlBuilder = queryBuilder;\n          }\n        }\n\n        const isReportType = ['report', 'esReport'].includes(analysisType);\n        if (isReportType) {\n          data = clone(flattenReportData(data, this.analysis));\n        }\n\n        this.setExecutedBy(executedBy);\n        this.setExecutedAt(executionId);\n        return { data: data, totalCount: count };\n      },\n      err => {\n        throw err;\n      }\n    );\n  }\n\n  setPrivileges(analysis: Analysis | AnalysisDSL) {\n    const categoryId = isDSLAnalysis(analysis)\n      ? analysis.category\n      : analysis.categoryId;\n    const userId = isDSLAnalysis(analysis)\n      ? analysis.createdBy\n      : analysis.userId;\n    this.canUserPublish = this._jwt.hasPrivilege('PUBLISH', {\n      subCategoryId: categoryId\n    });\n    this.canUserFork = this._jwt.hasPrivilege('FORK', {\n      subCategoryId: categoryId\n    });\n    this.canUserExecute = this._jwt.hasPrivilege('EXECUTE', {\n      subCategoryId: categoryId\n    });\n    this.canUserEdit = this._jwt.hasPrivilege('EDIT', {\n      subCategoryId: categoryId,\n      creatorId: userId\n    });\n  }\n\n  goBackToMainPage(analysis) {\n    this._router.navigate([\n      'analyze',\n      isDSLAnalysis(analysis) ? analysis.category : analysis.categoryId\n    ]);\n  }\n\n  edit() {\n    this._analyzeActionsService.edit(this.analysis);\n  }\n\n  fork() {\n    this._analyzeActionsService.fork(this.analysis);\n  }\n\n  gotoForkedAnalysis(analysis) {\n    this._router.navigate(['analyze', 'analysis', analysis.id, 'executed'], {\n      queryParams: {\n        executionId: null,\n        awaitingExecution: true,\n        loadLastExecution: false\n      }\n    });\n  }\n\n  afterDelete(analysis) {\n    this.goBackToMainPage(analysis);\n  }\n\n  afterPublish(analysis) {\n    if (analysis) {\n      this.goBackToMainPage(analysis);\n    }\n  }\n\n  exportData() {\n    /* prettier-ignore */\n    switch (this.analysis.type) {\n    case 'pivot':\n      // export from front end\n      this.pivotUpdater$.next({\n        export: true\n      });\n      break;\n    case 'chart':\n      // TODO add export for Maps\n      this.chartUpdater$.next({ export: true });\n      this.chartActionBus$.next({ export: true });\n      break;\n    default:\n      const executionType = this.onetimeExecution ? EXECUTION_DATA_MODES.ONETIME : EXECUTION_DATA_MODES.NORMAL;\n      this._analyzeExportService.export(this.executedAnalysis, this.executionId, executionType);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModuleTs } from '../../../common';\nimport { AnalyzeActionsModule } from '../actions';\nimport { ExecutedViewComponent } from './executed-view.component';\nimport { ExecutedListComponent } from './list';\nimport { ExecutedReportViewComponent } from './report';\nimport { ExecutedPivotViewComponent } from './pivot';\nimport { ExecutedChartViewComponent } from './chart';\nimport { ExecutedMapViewComponent } from './map';\nimport { ExecutedMapChartViewComponent } from './map-chart';\nimport { ChartService, ToastService } from '../../../common/services';\nimport { ExecuteService } from '../services/execute.service';\nimport { UChartModule } from '../../../common/components/charts';\nimport { AnalyzeExportService } from '../services/analyze-export.service';\nimport { AnalyzeFilterModule } from '../designer/filter';\n\nconst COMPONENTS = [\n  ExecutedViewComponent,\n  ExecutedListComponent,\n  ExecutedReportViewComponent,\n  ExecutedPivotViewComponent,\n  ExecutedChartViewComponent,\n  ExecutedMapViewComponent,\n  ExecutedMapChartViewComponent\n];\n\n@NgModule({\n  imports: [\n    CommonModuleTs,\n    AnalyzeFilterModule,\n    AnalyzeActionsModule,\n    UChartModule\n  ],\n  declarations: [\n    ...COMPONENTS\n  ],\n  entryComponents: COMPONENTS,\n  providers: [\n    ExecuteService,\n    ToastService,\n    AnalyzeExportService,\n    ChartService\n  ],\n  exports: [ExecutedViewComponent]\n})\nexport class ExecutedViewModule {}\nexport {\n  ExecutedViewComponent\n};\n","module.exports = \"<dx-data-grid [customizeColumns]=\\\"config.customizeColumns\\\"\\n              [columnAutoWidth]=\\\"config.columnAutoWidth\\\"\\n              [columnMinWidth]=\\\"config.columnMinWidth\\\"\\n              [columnResizingMode]=\\\"config.columnResizingMode\\\"\\n              [allowColumnReordering]=\\\"config.allowColumnReordering\\\"\\n              [allowColumnResizing]=\\\"config.allowColumnResizing\\\"\\n              [showColumnHeaders]=\\\"config.showColumnHeaders\\\"\\n              [showColumnLines]=\\\"config.showColumnLines\\\"\\n              [showRowLines]=\\\"config.showRowLines\\\"\\n              [showBorders]=\\\"config.showBorders\\\"\\n              [rowAlternationEnabled]=\\\"config.rowAlternationEnabled\\\"\\n              [hoverStateEnabled]=\\\"config.hoverStateEnabled\\\"\\n              [wordWrapEnabled]=\\\"config.wordWrapEnabled\\\"\\n              [scrolling]=\\\"config.scrolling\\\"\\n              [sorting]=\\\"config.sorting\\\"\\n              [dataSource]=\\\"analyses\\\"\\n              [columns]=\\\"config.columns\\\"\\n              [pager]=\\\"config.pager\\\"\\n              [paging]=\\\"config.paging\\\"\\n              (onRowClick)=\\\"config.onRowClick($event)\\\"\\n>\\n  </dx-data-grid>\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport * as get from 'lodash/get';\n\nimport { DxDataGridService } from '../../../../common/services/dxDataGrid.service';\nimport { Analysis } from '../../types';\n\n@Component({\n  selector: 'executed-list',\n  templateUrl: './executed-list.component.html',\n  styles: [\n    `\n      :host {\n        display: block;\n      }`\n  ]\n})\nexport class ExecutedListComponent {\n  @Input('analyses')\n  set setAnalyses(analyses: Analysis[]) {\n    this.analyses = analyses;\n    this.config = this.getGridConfig();\n  }\n  @Input() analysis: Analysis;\n  @Output() selectExecution: EventEmitter<string> = new EventEmitter();\n\n  config: any;\n  analyses: Analysis[];\n\n  constructor(\n    public _DxDataGridService: DxDataGridService,\n    public _router: Router\n  ) {}\n\n  goToExecution(executedAnalysis) {\n    this._router.navigate(\n      ['analyze', 'analysis', this.analysis.id, 'executed'],\n      {\n        queryParams: {\n          executionId: executedAnalysis.id,\n          awaitingExecution: false,\n          loadLastExecution: false\n        }\n      }\n    );\n  }\n\n  getGridConfig() {\n    const columns = [\n      {\n        caption: 'DATE',\n        dataField: 'finished',\n        dataType: 'date',\n        calculateCellValue: rowData => {\n          return rowData.finishedTime\n            ? moment\n                .utc(rowData.finishedTime)\n                .local()\n                .format('YYYY/MM/DD h:mm A')\n            : null;\n        },\n        allowSorting: true,\n        alignment: 'left',\n        width: '40%'\n      },\n      {\n        caption: 'TYPE',\n        dataField: 'executionType',\n        allowSorting: true,\n        alignment: 'left',\n        width: '30%'\n      },\n      {\n        caption: 'STATUS',\n        dataField: 'status',\n        allowSorting: true,\n        alignment: 'center',\n        encodeHtml: false,\n        width: '30%',\n        calculateCellValue: data =>\n          !data.status || data.status.toLowerCase() === 'success'\n            ? '<i class=\"icon-checkmark\" style=\"font-size: 16px; color: green; margin-left: 10px\"></i>'\n            : '<i class=\"icon-close\" style=\"font-size: 10px; color: red; margin-left: 10px\"></i>'\n      }\n    ];\n    return this._DxDataGridService.mergeWithDefaultConfig({\n      onRowClick: row => {\n        this.selectExecution.emit(get(row, 'data.id') || get(row, 'data.executionId'));\n      },\n      columns,\n      paging: {\n        pageSize: 10\n      },\n      pager: {\n        showPageSizeSelector: true,\n        showInfo: true\n      }\n    });\n  }\n}\n","export { ExecutedListComponent } from './executed-list.component';\n","module.exports = \"<div style=\\\"width:100%;float: left;\\\">\\n  <h1 style=\\\"padding:0;\\\" class=\\\"chart report-title\\\" [textContent]=\\\"analysis.chartTitle || analysis.name\\\"></h1>\\n</div>\\n\\n<map-chart-viewer [chartType]=\\\"analysis.chartType\\\"\\n                  [data]=\\\"data\\\"\\n                  [analysis]=\\\"analysis\\\"\\n                  [updater]=\\\"updater\\\"\\n                  [actionBus]=\\\"actionBus\\\"\\n>\\n</map-chart-viewer>\\n\"","module.exports = \".chart.report-title {\\n  margin: 0;\\n  padding: 12px 0 12px;\\n  text-align: center;\\n  font-weight: normal;\\n  font-size: 18px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvZXhlY3V0ZWQtdmlldy9tYXAtY2hhcnQvZXhlY3V0ZWQtbWFwLWNoYXJ0LXZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUE7RUFDRSxTQUFTO0VBQ1Qsb0JBTDBCO0VBTTFCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsZUFQcUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW5hbHl6ZS9leGVjdXRlZC12aWV3L21hcC1jaGFydC9leGVjdXRlZC1tYXAtY2hhcnQtdmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRoZWFkZXItcGFkZGluZy10b3A6IDEycHg7XG4kaGVhZGVyLXBhZGRpbmctYm90dG9tOiAxMnB4O1xuJGhlYWRlci1mb250LXNpemU6IDE4cHg7XG5cbi5jaGFydC5yZXBvcnQtdGl0bGUge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6ICRoZWFkZXItcGFkZGluZy10b3AgMCAkaGVhZGVyLXBhZGRpbmctYm90dG9tO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtc2l6ZTogJGhlYWRlci1mb250LXNpemU7XG59XG4iXX0= */\"","import { Component, Input } from '@angular/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\n\nimport { AnalysisChart } from '../../types';\n\n@Component({\n  selector: 'executed-map-chart-view',\n  templateUrl: 'executed-map-chart-view.component.html',\n  styleUrls: ['./executed-map-chart-view.component.scss']\n})\nexport class ExecutedMapChartViewComponent {\n  @Input() updater: BehaviorSubject<Object[]>;\n  @Input() actionBus: Subject<Object[]>;\n  @Input() analysis: AnalysisChart;\n  @Input() data: any[];\n}\n","export { ExecutedMapChartViewComponent } from './executed-map-chart-view.component';\n","module.exports = \"<map-box\\n  [data]=\\\"data\\\"\\n  [sqlBuilder]=\\\"analysis.sqlBuilder\\\"\\n  [mapSettings]=\\\"analysis.mapOptions\\\"\\n></map-box>\\n\"","import { Component, Input } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { AnalysisChart } from '../../types';\n\n@Component({\n  selector: 'executed-map-view',\n  templateUrl: 'executed-map-view.component.html',\n  styles: [`:host {\n    display: block;\n    height: calc(100vh - 250px);\n  }`]\n})\nexport class ExecutedMapViewComponent {\n  @Input() actionBus: Subject<Object[]>;\n  @Input() analysis: AnalysisChart;\n  @Input() data: any[];\n}\n","export { ExecutedMapViewComponent } from './executed-map-view.component';\n","module.exports = \"<pivot-grid *ngIf=\\\"analysis && data && analysis.type === 'pivot'\\\" class=\\\"executed-view-pivot\\\"\\n            [artifactColumns]=\\\"artifactColumns\\\"\\n            [sorts]=\\\"sorts\\\"\\n            [updater]=\\\"updater\\\"\\n            [data]=\\\"data\\\"\\n            [showFieldDetails]=\\\"true\\\">\\n</pivot-grid>\\n\"","module.exports = \"::ng-deep .executed-view-pivot {\\n  overflow: hidden !important; }\\n  ::ng-deep .executed-view-pivot dx-pivot-grid {\\n    height: calc(100vh - 300px) !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvZXhlY3V0ZWQtdmlldy9waXZvdC9leGVjdXRlZC1waXZvdC12aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMkJBQTJCLEVBQUE7RUFEN0I7SUFHSSxzQ0FBc0MsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW5hbHl6ZS9leGVjdXRlZC12aWV3L3Bpdm90L2V4ZWN1dGVkLXBpdm90LXZpZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAgLmV4ZWN1dGVkLXZpZXctcGl2b3Qge1xuICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIGR4LXBpdm90LWdyaWQge1xuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDMwMHB4KSAhaW1wb3J0YW50O1xuICB9XG59XG4iXX0= */\"","import { Component, Input } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { IPivotGridUpdate } from '../../../../common/components/pivot-grid/pivot-grid.component';\nimport { ArtifactColumn, Sort, isDSLAnalysis, AnalysisDSL } from '../../types';\n\nimport * as map from 'lodash/map';\nimport * as find from 'lodash/find';\nimport * as forEach from 'lodash/forEach';\n\n@Component({\n  selector: 'executed-pivot-view',\n  templateUrl: 'executed-pivot-view.component.html',\n  styleUrls: ['./executed-pivot-view.component.scss']\n})\nexport class ExecutedPivotViewComponent {\n  @Input('analysis')\n  set setAnalysis(analysis: AnalysisDSL) {\n    this.analysis = analysis;\n    this.artifactColumns = this.getArtifactColumns(analysis);\n    this.sorts = analysis.sipQuery.sorts;\n  }\n  @Input() data: any[];\n  @Input() updater: Subject<IPivotGridUpdate>;\n\n  analysis: AnalysisDSL;\n  artifactColumns: ArtifactColumn[];\n  sorts: Sort[];\n\n  constructor() {}\n\n  /* Use sqlBuilder to update selected fields in artifacts */\n  getArtifactColumns(analysis: AnalysisDSL) {\n    const row = [];\n    const data = [];\n    const column = [];\n    if (isDSLAnalysis(analysis)) {\n      forEach(analysis.sipQuery.artifacts, table => {\n        forEach(table.fields, field => {\n          if (field.type === 'date') {\n            field.dateInterval = field.groupInterval;\n          }\n          if (field.area === 'row') {\n            row.push(field);\n          }\n          if (field.area === 'data') {\n            data.push(field);\n          }\n          if (field.area === 'column') {\n            column.push(field);\n          }\n        });\n      });\n    }\n\n    /* These counters are for legacy purpose. If areaIndex is not saved\n     * in a field in sqlBuilder, then these will be used to get an area\n     * index instead. This may result in re-ordering of columns */\n    let rowId = 0,\n      colId = 0,\n      dataId = 0;\n    return map((<AnalysisDSL>analysis).sipQuery.artifacts[0].fields, artifactColumn => {\n      /* Find out if this column has been selected in row, column or data area */\n      const isRow = find(row, c => c.columnName === artifactColumn.columnName);\n      const isColumn = find(\n        column,\n        c => c.columnName === artifactColumn.columnName\n      );\n      const isData = find(\n        data,\n        c => c.columnName === artifactColumn.columnName\n      );\n\n      /* If column wasn't selected in any area, mark it unselected and return */\n      if (!isRow && !isColumn && !isData) {\n        return {\n          ...artifactColumn,\n          checked: false,\n          area: null,\n          areaIndex: null\n        };\n      }\n\n      /* Otherwise, update area related fields accordingly */\n      if (isRow) {\n        return {\n          ...artifactColumn,\n          checked: true,\n          area: 'row',\n          areaIndex: isRow.areaIndex || rowId++\n        };\n      } else if (isColumn) {\n        return {\n          ...artifactColumn,\n          checked: true,\n          area: 'column',\n          areaIndex: isColumn.areaIndex || colId++\n        };\n      } else if (isData) {\n        return {\n          ...artifactColumn,\n          checked: true,\n          area: 'data',\n          areaIndex: isData.areaIndex || dataId++\n        };\n      }\n    });\n  }\n}\n","export { ExecutedPivotViewComponent } from './executed-pivot-view.component';\n","module.exports = \"<div class=\\\"view-analysis-grid\\\" [ngStyle]=\\\"{'height': analysis.sqlBuilder.filters.length !== 0 ? 'calc(100vh - 312px)' : 'calc(100vh - 193px)'}\\\">\\n  <report-grid-upgraded *ngIf=\\\"analysis && dataLoader\\\"\\n                        (change)=\\\"onReportGridChange($event)\\\"\\n                        [artifacts]=\\\"artifacts\\\"\\n                        [analysis]=\\\"analysis\\\"\\n                        [sorts]=\\\"analysis.sqlBuilder.sorts || analysis.sqlBuilder.orderByColumns\\\"\\n                        [dataLoader]=\\\"dataLoader\\\">\\n  </report-grid-upgraded>\\n</div>\\n\"","import { Component, Input } from '@angular/core';\nimport { Analysis, Artifact } from '../../types';\n\n@Component({\n  selector: 'executed-report-view',\n  templateUrl: 'executed-report-view.component.html'\n})\nexport class ExecutedReportViewComponent {\n  @Input('analysis')\n  set setAnalysis(analysis: Analysis) {\n    this.analysis = analysis;\n    // if in query mode, don't send the artifacts, just use the column names in the data\n    // TODO use the columns from the query\n    const isEsReport = analysis.type === 'esReport';\n    const isInQueryMode = analysis.edit;\n    const dataFields = <any>analysis.sqlBuilder.dataFields;\n\n    if (isInQueryMode) {\n      this.artifacts = null;\n    } else if (isEsReport) {\n      const containsArtifacts = <any>dataFields[0].tableName;\n      if (containsArtifacts) {\n        this.artifacts = dataFields;\n      } else {\n        // for backward compatibility we have to check if we have the artifacts, or artifact columns\n        this.artifacts = <Artifact[]>[\n          { columns: dataFields, artifactName: '' }\n        ];\n      }\n    } else {\n      // DL report\n      this.artifacts = dataFields;\n    }\n  }\n  @Input()\n  dataLoader: Function;\n\n  analysis: Analysis;\n  artifacts: Artifact[];\n\n  constructor() {}\n}\n","export { ExecutedReportViewComponent } from './executed-report-view.component';\n","import { Injectable } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  Router,\n  ParamMap\n} from '@angular/router';\nimport * as fpFirst from 'lodash/fp/first';\nimport * as fpGet from 'lodash/fp/get';\nimport * as fpPipe from 'lodash/fp/pipe';\n\nimport { MenuService } from '../../../common/services/menu.service';\nimport { LAST_ANALYSES_CATEGORY_ID } from '../../../common/local-storage-keys';\n\n@Injectable()\nexport class DefaultAnalyzeCategoryGuard implements CanActivate {\n  constructor(private _router: Router, public _menu: MenuService) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const params: ParamMap = fpGet('children[0].paramMap', route);\n    if (params && params.keys.length) {\n      return true;\n    }\n\n    const queryParams: ParamMap = fpGet('children[0].queryParamMap', route);\n    if (queryParams && queryParams.keys.length) {\n      return true;\n    }\n\n    return this._menu.getMenu('ANALYZE').then(menu => {\n      return this.goToDefaultChildStateIfNeeded(menu);\n    });\n  }\n\n  goToDefaultChildStateIfNeeded(menu): boolean {\n    const id =\n      window.localStorage[LAST_ANALYSES_CATEGORY_ID] ||\n      fpPipe(fpFirst, fpGet('children'), fpFirst, fpGet('id'))(menu);\n    this._router.navigate(['analyze', id]);\n    return false;\n  }\n}\n","export { DefaultAnalyzeCategoryGuard } from './default-analyze-category.guard';\n","module.exports = \"<router-outlet></router-outlet>\\n\"","import { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport * as split from 'lodash/split';\n\nimport { LAST_ANALYSES_CATEGORY_ID } from '../../../common/local-storage-keys';\nimport { JwtService } from '../../../common/services';\n\n@Component({\n  selector: 'analyze-page',\n  templateUrl: 'analyze-page.component.html'\n})\nexport class AnalyzePageComponent {\n  constructor(private _jwt: JwtService, public _router: Router) {\n    this._router.events.subscribe(event => {\n      this.saveAnalyzeCategoryId(event);\n    });\n  }\n\n  saveAnalyzeCategoryId(event) {\n    if (event instanceof NavigationEnd) {\n      const [base, id] = split(event.url, '/');\n      if (base === 'analyze' && id) {\n        const key = `${LAST_ANALYSES_CATEGORY_ID}-${this._jwt.getUserId()}`;\n        window.localStorage[key] = id;\n      }\n    }\n  }\n}\n","export { AnalyzePageComponent } from './analyze-page.component';\n","import { NgModule } from '@angular/core';\n\nimport { AnalyzePublishDialogComponent } from './dialog/analyze-publish';\nimport { AnalyzeScheduleDialogComponent } from './dialog/analyze-schedule';\n\nimport { CommonModuleTs } from '../../../common';\n\nconst COMPONENTS = [\n  AnalyzePublishDialogComponent,\n  AnalyzeScheduleDialogComponent\n];\n\n@NgModule({\n  imports: [\n    CommonModuleTs\n  ],\n  declarations: COMPONENTS,\n  entryComponents: COMPONENTS,\n  exports: [AnalyzePublishDialogComponent]\n})\nexport class AnalyzePublishDialogModule {}\n\nexport { AnalyzePublishDialogComponent };\n","import { Routes } from '@angular/router';\nimport { AnalyzeViewComponent } from './view';\nimport { ExecutedViewComponent } from './executed-view';\nimport { AnalyzePageComponent } from './page';\nimport { DesignerPageComponent } from './designer';\nimport { IsUserLoggedInGuard } from '../../common/guards';\nimport { DefaultAnalyzeCategoryGuard } from './guards';\n\nexport const routes: Routes = [\n  {\n    // name: 'analyze',\n    path: '',\n    canActivate: [IsUserLoggedInGuard, DefaultAnalyzeCategoryGuard],\n    canActivateChild: [IsUserLoggedInGuard],\n    component: AnalyzePageComponent,\n    children: [\n      {\n        // name: 'analyze.executedDetail',\n        path: 'analysis/:analysisId/executed',\n        component: ExecutedViewComponent\n        // params: {\n        //   analysis: null,\n        //   awaitingExecution: false,\n        //   loadLastExecution: false,\n        //   executionId: null\n        // }\n      },\n      {\n        path: 'designer',\n        component: DesignerPageComponent\n      },\n      {\n        // name: 'analyze.view',\n        path: ':id',\n        component: AnalyzeViewComponent\n      }\n    ]\n  }\n];\n","import { Injectable } from '@angular/core';\nimport * as fpPick from 'lodash/fp/pick';\nimport * as fpPipe from 'lodash/fp/pipe';\nimport * as fpMap from 'lodash/fp/map';\nimport * as map from 'lodash/map';\nimport * as flatMap from 'lodash/flatMap';\nimport * as replace from 'lodash/replace';\nimport * as indexOf from 'lodash/indexOf';\nimport * as slice from 'lodash/slice';\nimport { json2csv } from 'json-2-csv';\nimport * as keys from 'lodash/keys';\nimport * as forEach from 'lodash/forEach';\nimport * as isUndefined from 'lodash/isUndefined';\nimport { saveAs } from 'file-saver';\nimport * as Blob from 'blob';\nimport * as get from 'lodash/get';\n\nimport { AnalyzeActionsService } from '../actions';\nimport { ToastService } from '../../../common/services/toastMessage.service';\nimport { checkNullinReportData } from './../../../common/utils/dataFlattener';\n\n@Injectable()\nexport class AnalyzeExportService {\n  constructor(\n    public _analyzeActionsService: AnalyzeActionsService,\n    public _toastMessage: ToastService\n  ) {}\n\n  export(analysis, executionId, executionType = 'normal') {\n    const analysisId = analysis.id;\n    const analysisType = analysis.type;\n    this._analyzeActionsService\n      .exportAnalysis(analysisId, executionId, analysisType, executionType)\n      .then(data => {\n        let exportData = get(data, 'data');\n        let fields = this.getCheckedFieldsForExport(analysis, exportData);\n        fields = this.checkColumnName(fields);\n        const columnNames = map(fields, 'columnName');\n        const exportOptions = {\n          trimHeaderFields: false,\n          emptyFieldValue: '',\n          checkSchemaDifferences: false,\n          delimiter: {\n            wrap: '\"',\n            eol: '\\r\\n'\n          },\n          columnNames\n        };\n\n        exportData = ['report', 'esReport'].includes(analysisType)\n          ? checkNullinReportData(exportData)\n          : exportData;\n\n        json2csv(\n          exportData,\n          (err, csv) => {\n            if (err) {\n              this._toastMessage.error(\n                'There was an error while exporting, please try again witha different dataset.'\n              );\n            }\n            const csvWithDisplayNames = this.replaceCSVHeader(\n              csv,\n              fields,\n              analysis\n            );\n            this.exportCSV(csvWithDisplayNames, analysis.name);\n          },\n          exportOptions\n        );\n      });\n  }\n\n  replaceCSVHeader(csv, fields, analysis) {\n    const firstNewLine = indexOf(csv, '\\n');\n    const firstRow = slice(csv, 0, firstNewLine).join('');\n    const firstRowColumns = firstRow\n      .split(',')\n      .map(columnName => columnName.replace(/\"/g, '').trim());\n\n    /* Following logic replaces column names in CSV header row with their\n       display names or aliases, while preserving the order they appear in\n      */\n    const displayNames = firstRowColumns\n      .map(columnName => {\n        const field = fields.find(f => f.columnName === columnName);\n        if (!field) {\n          return columnName;\n        }\n        if (field.aggregate === 'distinctCount' && analysis.type === 'report') {\n          return `distinctCount(${field.alias || field.displayName})`;\n        }\n        return field.alias || field.displayName;\n      })\n      .join(',');\n    return replace(csv, firstRow, displayNames);\n  }\n\n  getCheckedFieldsForExport(analysis, data) {\n    /* If report was using designer mode, find checked columns */\n    if (!analysis.edit) {\n      return flatMap(analysis.sqlBuilder.dataFields, artifact =>\n        fpPipe(\n          fpMap(fpPick(['columnName', 'alias', 'displayName', 'aggregate']))\n        )(artifact.columns)\n      );\n    }\n    /* If report was using sql mode, we don't really have any info\n       about columns. Keys from individual data nodes are used as\n       column names */\n    if (data.length > 0) {\n      return map(keys(data[0]), col => ({\n        label: col,\n        columnName: col,\n        displayName: col,\n        type: 'string'\n      }));\n    }\n  }\n\n  checkColumnName(columns) {\n    forEach(columns, column => {\n      column.columnName = this.getColumnName(column.columnName);\n    });\n    return columns;\n  }\n\n  getColumnName(columnName) {\n    // take out the .keyword form the columnName\n    // if there is one\n    if (!isUndefined(columnName)) {\n      const split = columnName.split('.');\n      if (split[1]) {\n        return split[0];\n      }\n      return columnName;\n    }\n  }\n\n  exportCSV(str, fileName) {\n    const blob = new Blob([str], { type: 'text/csv;charset=utf-8' });\n    saveAs(blob, `${fileName || 'export'}.csv`);\n  }\n}\n","import { State } from '@ngxs/store';\n@State<{}>({\n  name: 'analyze',\n  children: []\n})\nexport class AnalyzeState {}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as filter from 'lodash/filter';\nimport * as find from 'lodash/find';\nimport { Analysis } from './types';\n\n@Pipe({\n  name: 'analysesFilter'\n})\n\nexport class AnalysesFilterPipe implements PipeTransform {\n  transform(analyses: Analysis[], type, cronJobs): Analysis[] {\n    if (type === 'all') {\n      return analyses;\n    }\n    return filter(analyses, analysis => {\n      switch (type) {\n      case 'scheduled':\n        return this.isInCronJobs(cronJobs, analysis.id);\n      case 'report':\n        return analysis.type === 'esReport' || analysis.type === type;\n      default:\n        return type === analysis.type;\n      }\n    });\n  }\n\n  isInCronJobs(cronJobs, id) {\n    const cronJob = find(cronJobs, cron => cron.jobDetails.analysisID === id);\n    return Boolean(cronJob);\n  }\n}\n","module.exports = \"<mat-toolbar fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n  <div fxLayout=\\\"row\\\" fxFlex=\\\"40\\\">\\n    <div class=\\\"category-title\\\" e2e=\\\"category-title\\\">\\n      {{ categoryName | async }}\\n    </div>\\n    <search-box\\n      placeholder=\\\"Search Analyses\\\"\\n      [value]=\\\"filterObj.searchTerm\\\"\\n      (searchTermChange)=\\\"applySearchFilter($event)\\\"\\n      [delay]=\\\"1000\\\"\\n    >\\n    </search-box>\\n  </div>\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" fxFlex=\\\"40\\\">\\n    <mat-radio-group\\n      [value]=\\\"viewMode\\\"\\n      (change)=\\\"onViewChange($event.value)\\\"\\n      class=\\\"switch-view\\\"\\n    >\\n      <mat-radio-button [value]=\\\"LIST_VIEW\\\" e2e=\\\"analyze-list-view\\\">\\n        <mat-icon\\n          fontIcon=\\\"icon-list-view\\\"\\n          style=\\\"font-size: 22px;\\\"\\n          i18n-matTooltip\\n          matTooltip=\\\"List view\\\"\\n        ></mat-icon>\\n      </mat-radio-button>\\n      <mat-radio-button [value]=\\\"CARD_VIEW\\\" e2e=\\\"analyze-card-view\\\">\\n        <mat-icon\\n          fontIcon=\\\"icon-tile-view-solid\\\"\\n          style=\\\"font-size: 18px;\\\"\\n          i18n-matTooltip\\n          matTooltip=\\\"Card view\\\"\\n        ></mat-icon>\\n      </mat-radio-button>\\n    </mat-radio-group>\\n\\n    <mat-form-field\\n      e2e=\\\"analysis-type-selector\\\"\\n      class=\\\"select-form-field\\\"\\n      appearance=\\\"outline\\\"\\n      style=\\\"max-width: 170px; font-size: 14px; margin: 0;\\\"\\n    >\\n      <mat-select\\n        class=\\\"select-type\\\"\\n        (selectionChange)=\\\"onAnalysisTypeChange($event.value)\\\"\\n        [value]=\\\"filterObj.analysisType\\\"\\n      >\\n        <mat-option *ngFor=\\\"let type of analysisTypes\\\" [value]=\\\"type.value\\\">\\n          {{ type.label }}\\n        </mat-option>\\n      </mat-select>\\n    </mat-form-field>\\n  </div>\\n  <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxFlex=\\\"20\\\">\\n    <button\\n      (click)=\\\"openNewAnalysisModal()\\\"\\n      mat-raised-button\\n      e2e=\\\"open-new-analysis-modal\\\"\\n      color=\\\"primary\\\"\\n    >\\n      + <span i18n>ANALYSIS</span>\\n    </button>\\n  </div>\\n</mat-toolbar>\\n<mat-card [ngSwitch]=\\\"viewMode\\\" class=\\\"analyses-container\\\">\\n  <analyze-list-view\\n    *ngSwitchCase=\\\"LIST_VIEW\\\"\\n    (action)=\\\"onAction($event)\\\"\\n    [semanticLayerDataMap]=\\\"semanticLayerDataMap\\\"\\n    [analyses]=\\\"\\n      filteredAnalyses | analysesFilter: filterObj.analysisType:cronJobs\\n    \\\"\\n    [analysisType]=\\\"filterObj.analysisType\\\"\\n    [searchTerm]=\\\"filterObj.searchTermValue\\\"\\n    [cronJobs]=\\\"cronJobs\\\"\\n  >\\n  </analyze-list-view>\\n  <analyze-card-view\\n    *ngSwitchCase=\\\"CARD_VIEW\\\"\\n    (action)=\\\"onAction($event)\\\"\\n    [analyses]=\\\"\\n      filteredAnalyses | analysesFilter: filterObj.analysisType:cronJobs\\n    \\\"\\n    [analysisType]=\\\"filterObj.analysisType\\\"\\n    [highlightTerm]=\\\"filterObj.searchTermValue\\\"\\n    [cronJobs]=\\\"cronJobs\\\"\\n  >\\n  </analyze-card-view>\\n</mat-card>\\n\"","module.exports = \":host {\\n  width: 100%; }\\n\\n.category-title {\\n  color: #636363;\\n  font-weight: bold; }\\n\\n.analyses-container {\\n  margin: 0 10px;\\n  padding: 0; }\\n\\n.mat-toolbar.mat-toolbar-single-row {\\n  background-color: transparent; }\\n\\n.select-type {\\n  width: 140px;\\n  font-size: 16px; }\\n\\n.switch-view {\\n  margin-right: 20px;\\n  display: inline-flex; }\\n\\n.switch-view mat-radio-button {\\n    margin: 0;\\n    padding-right: 7px; }\\n\\n.switch-view mat-radio-button mat-icon {\\n      font-size: 14px;\\n      color: #5c6670; }\\n\\n.switch-view mat-radio-button.mat-radio-checked mat-icon {\\n      color: #0077be; }\\n\\n.switch-view mat-radio-button ::ng-deep .mat-radio-container {\\n      display: none; }\\n\\n.switch-view mat-radio-button ::ng-deep .mat-radio-label {\\n      margin: 0; }\\n\\n.switch-view mat-radio-button ::ng-deep .mat-radio-label mat-icon {\\n        text-align: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvdmlldy9hbmFseXplLXZpZXcuY29tcG9uZW50LnNjc3MiLCIvVXNlcnMvYmFybmFtdW10eWFuL1Byb2plY3RzL21vZHVzL3NpcC9zYXctd2ViL3NyYy90aGVtZXMvYmFzZS9fY29sb3JzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxXQUFXLEVBQUE7O0FBR2I7RUFDRSxjQ0l1QjtFREh2QixpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxjQUFjO0VBQ2QsVUFBVSxFQUFBOztBQUdaO0VBQ0UsNkJBQTZCLEVBQUE7O0FBRy9CO0VBQ0UsWUFBWTtFQUNaLGVBQWUsRUFBQTs7QUFHakI7RUFDRSxrQkFBa0I7RUFDbEIsb0JBQW9CLEVBQUE7O0FBRnRCO0lBS0ksU0FBUztJQUNULGtCQUFrQixFQUFBOztBQU50QjtNQVNNLGVBQWU7TUFDZixjQ2xCbUIsRUFBQTs7QURRekI7TUFlUSxjQ3RDaUIsRUFBQTs7QUR1QnpCO01Bb0JNLGFBQWEsRUFBQTs7QUFwQm5CO01Bd0JNLFNBQVMsRUFBQTs7QUF4QmY7UUEyQlEsa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvdmlldy9hbmFseXplLXZpZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwic3JjL3RoZW1lcy9iYXNlL2NvbG9yc1wiO1xuXG46aG9zdCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uY2F0ZWdvcnktdGl0bGUge1xuICBjb2xvcjogJGdyZXktdGV4dC1jb2xvcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5hbmFseXNlcy1jb250YWluZXIge1xuICBtYXJnaW46IDAgMTBweDtcbiAgcGFkZGluZzogMDtcbn1cblxuLm1hdC10b29sYmFyLm1hdC10b29sYmFyLXNpbmdsZS1yb3cge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuLnNlbGVjdC10eXBlIHtcbiAgd2lkdGg6IDE0MHB4O1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5zd2l0Y2gtdmlldyB7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG5cbiAgbWF0LXJhZGlvLWJ1dHRvbiB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmctcmlnaHQ6IDdweDtcblxuICAgIG1hdC1pY29uIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAkcHJpbWFyeS1ncmV5LWc0O1xuICAgIH1cblxuICAgICYubWF0LXJhZGlvLWNoZWNrZWQge1xuICAgICAgbWF0LWljb24ge1xuICAgICAgICBjb2xvcjogJHByaW1hcnktYmx1ZS1iMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICA6Om5nLWRlZXAgLm1hdC1yYWRpby1jb250YWluZXIge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICA6Om5nLWRlZXAgLm1hdC1yYWRpby1sYWJlbCB7XG4gICAgICBtYXJnaW46IDA7XG5cbiAgICAgIG1hdC1pY29uIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLy8gQnJhbmRpbmcgY29sb3JzXG4kcHJpbWFyeS1ibHVlLWIxOiAjMWE4OWQ0O1xuJHByaW1hcnktYmx1ZS1iMjogIzAwNzdiZTtcbiRwcmltYXJ5LWJsdWUtYjM6ICMyMDZiY2U7XG4kcHJpbWFyeS1ibHVlLWI0OiAjMWQzYWIyO1xuXG4kcHJpbWFyeS1ob3Zlci1ibHVlOiAjMWQ2MWIxO1xuJGdyaWQtaG92ZXItY29sb3I6ICNmNWY5ZmM7XG4kZ3JpZC1oZWFkZXItYmctY29sb3I6ICNkN2VhZmE7XG4kZ3JpZC1oZWFkZXItY29sb3I6ICMwYjRkOTk7XG4kZ3JpZC10ZXh0LWNvbG9yOiAjNDY0NjQ2O1xuJGdyZXktdGV4dC1jb2xvcjogIzYzNjM2MztcblxuJHNlbGVjdGlvbi1oaWdobGlnaHQtY29sOiByZ2JhKDAsIDE0MCwgMjYwLCAwLjIpO1xuJHByaW1hcnktZ3JleS1nMTogI2QxZDNkMztcbiRwcmltYXJ5LWdyZXktZzI6ICM5OTk7XG4kcHJpbWFyeS1ncmV5LWczOiAjNzM3MzczO1xuJHByaW1hcnktZ3JleS1nNDogIzVjNjY3MDtcbiRwcmltYXJ5LWdyZXktZzU6ICMzMTMxMzE7XG4kcHJpbWFyeS1ncmV5LWc2OiAjZjVmNWY1O1xuJHByaW1hcnktZ3JleS1nNzogIzNkM2QzZDtcblxuJHByaW1hcnktd2hpdGU6ICNmZmY7XG4kcHJpbWFyeS1ibGFjazogIzAwMDtcbiRwcmltYXJ5LXJlZDogI2FiMGUyNztcbiRwcmltYXJ5LWdyZWVuOiAjNzNiNDIxO1xuJHByaW1hcnktb3JhbmdlOiAjZjA3NjAxO1xuXG4kc2Vjb25kYXJ5LWdyZWVuOiAjNmZiMzIwO1xuJHNlY29uZGFyeS15ZWxsb3c6ICNmZmJlMDA7XG4kc2Vjb25kYXJ5LW9yYW5nZTogI2ZmOTAwMDtcbiRzZWNvbmRhcnktcmVkOiAjZDkzZTAwO1xuJHNlY29uZGFyeS1iZXJyeTogI2FjMTQ1YTtcbiRzZWNvbmRhcnktcHVycGxlOiAjOTE0MTkxO1xuXG4kc3RyaW5nLXR5cGUtY29sb3I6ICM0OTk1YjI7XG4kbnVtYmVyLXR5cGUtY29sb3I6ICMwMGIxODA7XG4kZ2VvLXR5cGUtY29sb3I6ICM4NDVlYzI7XG4kZGF0ZS10eXBlLWNvbG9yOiAjZDE5NjIxO1xuXG4kdHlwZS1jaGlwLW9wYWNpdHk6IDE7XG4kc3RyaW5nLXR5cGUtY2hpcC1jb2xvcjogcmdiYSgkc3RyaW5nLXR5cGUtY29sb3IsICR0eXBlLWNoaXAtb3BhY2l0eSk7XG4kbnVtYmVyLXR5cGUtY2hpcC1jb2xvcjogcmdiYSgkbnVtYmVyLXR5cGUtY29sb3IsICR0eXBlLWNoaXAtb3BhY2l0eSk7XG4kZ2VvLXR5cGUtY2hpcC1jb2xvcjogcmdiYSgkZ2VvLXR5cGUtY29sb3IsICR0eXBlLWNoaXAtb3BhY2l0eSk7XG4kZGF0ZS10eXBlLWNoaXAtY29sb3I6IHJnYmEoJGRhdGUtdHlwZS1jb2xvciwgJHR5cGUtY2hpcC1vcGFjaXR5KTtcblxuJHJlcG9ydC1kZXNpZ25lci1zZXR0aW5ncy1iZy1jb2xvcjogI2Y1ZjlmYztcbiRiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmOWZjO1xuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatDialog, MatDialogConfig } from '@angular/material';\nimport { LocalStorageService } from 'angular-2-local-storage';\nimport * as findIndex from 'lodash/findIndex';\nimport * as reduce from 'lodash/reduce';\n\nimport { JwtService } from '../../../common/services';\nimport { AnalyzeService, EXECUTION_MODES } from '../services/analyze.service';\nimport { ToastService } from '../../../common/services/toastMessage.service';\nimport { LocalSearchService } from '../../../common/services/local-search.service';\nimport { AnalyzeNewDialogComponent } from './new-dialog';\nimport { Analysis, AnalysisDSL, AnalyzeViewActionEvent } from './types';\nimport { ExecuteService } from '../services/execute.service';\nimport { isDSLAnalysis } from '../designer/types';\n\nconst VIEW_KEY = 'analyseReportView';\nconst SEARCH_CONFIG = [\n  { keyword: 'NAME', fieldName: 'name' },\n  { keyword: 'TYPE', fieldName: 'type' },\n  { keyword: 'CREATOR', fieldName: 'userFullName' },\n  {\n    keyword: 'CREATED',\n    fieldName: 'new Date(rowData.createdTimestamp).toDateString()'\n  },\n  { keyword: 'METRIC', fieldName: 'metricName' }\n];\n@Component({\n  selector: 'analyze-view-u',\n  templateUrl: './analyze-view.component.html',\n  styleUrls: ['./analyze-view.component.scss']\n})\nexport class AnalyzeViewComponent implements OnInit {\n  public analyses: Array<Analysis | AnalysisDSL> = [];\n  public filteredAnalyses: Array<Analysis | AnalysisDSL>;\n  public categoryName: Promise<string>;\n  public cronJobs: any;\n  public LIST_VIEW = 'list';\n  public CARD_VIEW = 'card';\n  public analysisId: string;\n  public viewMode = this.LIST_VIEW;\n  public privileges = {\n    create: false\n  };\n  public subCategoryId: string;\n  public analysisTypes = [\n    ['all', 'All'],\n    ['chart', 'Chart'],\n    ['report', 'Report'],\n    ['pivot', 'Pivot'],\n    ['scheduled', 'Scheduled']\n  ].map(([value, label]) => ({ value, label }));\n  public filterObj = {\n    analysisType: this.analysisTypes[0].value,\n    searchTerm: '',\n    searchTermValue: ''\n  };\n\n  public semanticLayerData$;\n  public semanticLayerDataMap;\n  constructor(\n    public _analyzeService: AnalyzeService,\n    public _router: Router,\n    public _route: ActivatedRoute,\n    public _localStorage: LocalStorageService,\n    public _jwt: JwtService,\n    public _localSearch: LocalSearchService,\n    public _toastMessage: ToastService,\n    public _dialog: MatDialog,\n    public _executeService: ExecuteService\n  ) {}\n\n  ngOnInit() {\n    this.semanticLayerData$ = this._analyzeService.getSemanticLayerData();\n    this.semanticLayerData$.then(data => {\n      console.log('semantic', data);\n      this.semanticLayerDataMap = reduce(\n        data,\n        (accumulator, metric) => {\n          accumulator[metric.id] = metric;\n          return accumulator;\n        },\n        {}\n      );\n    });\n    this._route.params.subscribe(params => {\n      this.onParamsChange(params);\n    });\n    const savedView = <string>this._localStorage.get(VIEW_KEY);\n    this.viewMode = [this.LIST_VIEW, this.CARD_VIEW].includes(savedView)\n      ? savedView\n      : this.LIST_VIEW;\n  }\n\n  onParamsChange(params) {\n    this.analysisId = params.id;\n\n    this.categoryName = this._analyzeService\n      .getCategory(this.analysisId)\n      .then(category => category.name);\n\n    this.loadAnalyses(this.analysisId);\n    this.getCronJobs(this.analysisId);\n  }\n\n  onAction(event: AnalyzeViewActionEvent) {\n    switch (event.action) {\n      case 'fork': {\n        const { analysis, requestExecution } = event;\n        if (analysis) {\n          this.loadAnalyses(this.analysisId).then(() => {\n            if (requestExecution) {\n              this._executeService.executeAnalysis(\n                analysis,\n                EXECUTION_MODES.PUBLISH\n              );\n            }\n          });\n        }\n        break;\n      }\n      case 'edit': {\n        const { analysis, requestExecution } = event;\n        if (analysis) {\n          this.spliceAnalyses(analysis, true);\n        }\n        if (requestExecution) {\n          this._executeService.executeAnalysis(\n            analysis,\n            EXECUTION_MODES.PUBLISH\n          );\n        }\n        break;\n      }\n      case 'delete':\n        this.spliceAnalyses(event.analysis, false);\n        break;\n      case 'execute':\n        if (event.analysis) {\n          this.goToAnalysis(event.analysis);\n        }\n        break;\n      case 'publish':\n        this.afterPublish(event.analysis);\n        this.spliceAnalyses(event.analysis, true);\n        break;\n    }\n  }\n\n  onViewChange(view) {\n    this.viewMode = view;\n    this._localStorage.set(VIEW_KEY, view);\n  }\n\n  onAnalysisTypeChange(type) {\n    this.filterObj.analysisType = type;\n  }\n\n  goToAnalysis(analysis) {\n    const isDSL = analysis.sipQuery ? true : false;\n    this._router.navigate(['analyze', 'analysis', analysis.id, 'executed'], {\n      queryParams: {\n        isDSL\n      }\n    });\n  }\n\n  afterPublish(analysis) {\n    this.getCronJobs(this.analysisId);\n    /* Update the new analysis in the current list */\n    this._router.navigate([\n      'analyze',\n      isDSLAnalysis(analysis) ? analysis.category : analysis.categoryId\n    ]);\n  }\n\n  spliceAnalyses(analysis, replace) {\n    const index = findIndex(this.analyses, ({ id }) => id === analysis.id);\n    const filteredIndex = findIndex(\n      this.filteredAnalyses,\n      ({ id }) => id === analysis.id\n    );\n    if (replace) {\n      this.analyses.splice(index, 1, analysis);\n      this.filteredAnalyses.splice(filteredIndex, 1, analysis);\n    } else {\n      this.analyses.splice(index, 1);\n      this.filteredAnalyses.splice(filteredIndex, 1);\n    }\n  }\n\n  openNewAnalysisModal() {\n    this.semanticLayerData$.then(metrics => {\n      this._dialog\n        .open(AnalyzeNewDialogComponent, {\n          width: 'auto',\n          height: 'auto',\n          autoFocus: false,\n          data: {\n            metrics,\n            id: this.analysisId\n          }\n        } as MatDialogConfig)\n        .afterClosed()\n        .subscribe(event => {\n          if (!event) {\n            return;\n          }\n          const { analysis, requestExecution } = event;\n          if (analysis) {\n            this.loadAnalyses(this.analysisId).then(() => {\n              if (requestExecution) {\n                this._executeService.executeAnalysis(\n                  analysis,\n                  EXECUTION_MODES.PUBLISH\n                );\n              }\n            });\n          }\n        });\n    });\n  }\n\n  loadAnalyses(analysisId) {\n    return this._analyzeService.getAnalysesFor(analysisId).then(analyses => {\n      this.analyses = analyses;\n      this.filteredAnalyses = [...analyses];\n    });\n  }\n\n  getCronJobs(analysisId) {\n    const token = this._jwt.getTokenObj();\n    const requestModel = {\n      categoryId: analysisId,\n      groupkey: token.ticket.custCode\n    };\n    this._analyzeService\n      .getAllCronJobs(requestModel)\n      .then((response: any) => {\n        if (response.statusCode === 200) {\n          this.cronJobs = reduce(\n            response.data,\n            (accumulator, cron) => {\n              const { analysisID } = cron.jobDetails;\n              accumulator[analysisID] = cron;\n              return accumulator;\n            },\n            {}\n          );\n        } else {\n          this.cronJobs = {};\n        }\n      })\n      .catch(err => {\n        this._toastMessage.error(err.message);\n      });\n  }\n\n  applySearchFilter(value) {\n    this.filterObj.searchTerm = value;\n    const searchCriteria = this._localSearch.parseSearchTerm(\n      this.filterObj.searchTerm\n    );\n    this.filterObj.searchTermValue = searchCriteria.trimmedTerm;\n    this._localSearch\n      .doSearch(searchCriteria, this.analyses, SEARCH_CONFIG)\n      .then(\n        data => {\n          this.filteredAnalyses = data;\n        },\n        err => {\n          this._toastMessage.error(err.message);\n        }\n      );\n  }\n}\n","module.exports = \"<div fxLayout=\\\"row wrap\\\"\\n     fxLayoutAlign=\\\"start start\\\"\\n>\\n  <div *ngFor=\\\"let analysis of analyses\\\"\\n       fxFlex.md=\\\"50\\\"\\n       fxFlex.lt-md=\\\"100\\\"\\n       fxFlex.gt-md=\\\"33\\\"\\n  >\\n    <analyze-card (action)=\\\"action.emit($event)\\\"\\n                    [highlightTerm]=\\\"highlightTerm\\\"\\n                    [analysis]=\\\"analysis\\\"\\n                    [cronJobs]=\\\"cronJobs\\\"\\n    ></analyze-card>\\n  </div>\\n\\n  <div class=\\\"analyze-card-view__no-results\\\"\\n        *ngIf=\\\"highlightTerm && !analyses.length\\\">\\n    <span i18n>No matching results</span>\\n  </div>\\n  <div class=\\\"analyze-card-view__no-results\\\"\\n      *ngIf=\\\"!highlightTerm && analysisType !== 'all' && analyses && !analyses.length\\\">\\n    <span i18n>There are no Analyses of selected type.</span>\\n  </div>\\n  <div class=\\\"analyze-card-view__no-results\\\"\\n      *ngIf=\\\"!highlightTerm && analysisType === 'all' && analyses && !analyses.length\\\">\\n    <span i18n>There are no Analyses for this category.</span>\\n  </div>\\n</div>\\n\"","module.exports = \":host {\\n  display: block;\\n  height: calc(100vh - 74px - 60px - 64px);\\n  overflow: auto;\\n  background-color: whitesmoke; }\\n\\n.analyze-card-view__no-results {\\n  width: 100%;\\n  color: #B2B2B2;\\n  text-align: center; }\\n\\n.analyze-card-view__no-results span {\\n    font-size: 28px;\\n    word-break: break-word; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvdmlldy9jYXJkLXZpZXcvYW5hbHl6ZS1jYXJkLXZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2Qsd0NBQXdDO0VBQ3hDLGNBQWM7RUFDZCw0QkFBNEIsRUFBQTs7QUFHOUI7RUFDRSxXQUFXO0VBQ1gsY0FBYztFQUNkLGtCQUFrQixFQUFBOztBQUhwQjtJQU1JLGVBQWU7SUFDZixzQkFBc0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW5hbHl6ZS92aWV3L2NhcmQtdmlldy9hbmFseXplLWNhcmQtdmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDc0cHggLSA2MHB4IC0gNjRweCk7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlO1xufVxuXG4uYW5hbHl6ZS1jYXJkLXZpZXdfX25vLXJlc3VsdHMge1xuICB3aWR0aDogMTAwJTtcbiAgY29sb3I6ICNCMkIyQjI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBzcGFuIHtcbiAgICBmb250LXNpemU6IDI4cHg7XG4gICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgfVxufVxuIl19 */\"","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Analysis, AnalyzeViewActionEvent } from '../types';\n\n@Component({\n  selector: 'analyze-card-view',\n  templateUrl: './analyze-card-view.component.html',\n  styleUrls: ['./analyze-card-view.component.scss']\n})\nexport class AnalyzeCardViewComponent {\n  @Output() action: EventEmitter<AnalyzeViewActionEvent> = new EventEmitter();\n  @Input() analyses: Analysis[];\n  @Input() analysisType: string;\n  @Input() highlightTerm: string;\n  @Input() cronJobs: any;\n  constructor() {}\n}\n","export { AnalyzeCardViewComponent } from './analyze-card-view.component';\n","module.exports = \"<mat-card e2e=\\\"analysis-card\\\">\\n  <mat-card-header fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\">\\n    <mat-chip\\n      class=\\\"tag-chip status-chip mat-basic-chip\\\"\\n      *ngIf=\\\"isExecuting\\\"\\n      i18n\\n    >\\n      EXECUTING\\n    </mat-chip>\\n    <mat-chip\\n      class=\\\"tag-chip mat-basic-chip\\\"\\n      [innerHtml]=\\\"getType(analysis.type) | highlight: highlightTerm\\\"\\n    ></mat-chip>\\n  </mat-card-header>\\n\\n  <mat-card-content\\n    fxLayout=\\\"row\\\"\\n    fxLayoutAlign=\\\"center center\\\"\\n    [attr.e2e]=\\\"typeIdentifier\\\"\\n  >\\n    <div\\n      class=\\\"saw-ac-placeholder\\\"\\n      [ngClass]=\\\"placeholderClass\\\"\\n      [queryParams]=\\\"{ isDSL: !!analysis.sipQuery }\\\"\\n      routerLink=\\\"../analysis/{{ analysis.id }}/executed\\\"\\n    ></div>\\n  </mat-card-content>\\n  <mat-divider></mat-divider>\\n  <mat-card-footer fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between start\\\">\\n    <div>\\n      <mat-card-title>\\n        <a\\n          [innerHtml]=\\\"analysis.name | highlight: highlightTerm\\\"\\n          routerLink=\\\"../analysis/{{ analysis.id }}/executed\\\"\\n          [queryParams]=\\\"{ isDSL: !!analysis.sipQuery }\\\"\\n          e2e=\\\"analysis-name\\\"\\n        ></a>\\n      </mat-card-title>\\n      <mat-card-subtitle>\\n        <span\\n          [innerHtml]=\\\"\\n            (analysis.metrics || []).join(', ') | highlight: highlightTerm\\n          \\\"\\n        ></span>\\n        <span>\\n          <mat-icon fontIcon=\\\"icon-calendar\\\"></mat-icon>\\n          {{ schedule || 'No Schedule Set' }}\\n        </span>\\n      </mat-card-subtitle>\\n    </div>\\n    <mat-card-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center center\\\">\\n      <button\\n        mat-icon-button\\n        (click)=\\\"fork(analysis)\\\"\\n        e2e=\\\"action-fork-btn\\\"\\n        *ngIf=\\\"canUserFork\\\"\\n        class=\\\"list-action-button\\\"\\n        i18n-matTooltip=\\\"Fork Analysis\\\"\\n        matTooltip=\\\"Fork Analysis\\\"\\n      >\\n        <mat-icon fontIcon=\\\"icon-fork\\\"></mat-icon>\\n      </button>\\n      <analyze-actions-menu-u\\n        [analysis]=\\\"analysis\\\"\\n        exclude=\\\"fork-export-details\\\"\\n        [actionsToDisable]=\\\"isExecuting ? 'execute' : ''\\\"\\n        (afterDelete)=\\\"afterDelete($event)\\\"\\n        (afterExecute)=\\\"afterExecute($event)\\\"\\n        (afterPublish)=\\\"afterPublish($event)\\\"\\n        (afterEdit)=\\\"afterEdit($event)\\\"\\n      ></analyze-actions-menu-u>\\n    </mat-card-actions>\\n  </mat-card-footer>\\n</mat-card>\\n\"","module.exports = \":host {\\n  display: block;\\n  margin: 5px; }\\n\\n.saw-ac-placeholder {\\n  height: 159px;\\n  width: 434px;\\n  cursor: pointer;\\n  background-size: contain;\\n  background-repeat: no-repeat; }\\n\\n.saw-ac-placeholder.m-report {\\n    background-image: url(\\\"/assets/img/charts/report.png\\\"); }\\n\\n.saw-ac-placeholder.m-esReport {\\n    background-image: url(\\\"/assets/img/charts/report.png\\\"); }\\n\\n.saw-ac-placeholder.m-pivot {\\n    background-image: url(\\\"/assets/img/charts/pivot.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-bubble {\\n    background-image: url(\\\"/assets/img/charts/chart-bubble.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-column {\\n    background-image: url(\\\"/assets/img/charts/chart-column.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-area {\\n    background-image: url(\\\"/assets/img/charts/chart-area.svg\\\"); }\\n\\n.saw-ac-placeholder.m-chart-combo {\\n    background-image: url(\\\"/assets/img/charts/chart-combo.svg\\\"); }\\n\\n.saw-ac-placeholder.m-chart-bar {\\n    background-image: url(\\\"/assets/img/charts/chart-bar.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-donut {\\n    background-image: url(\\\"/assets/img/charts/chart-donut.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-line {\\n    background-image: url(\\\"/assets/img/charts/chart-line.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-pie {\\n    background-image: url(\\\"/assets/img/charts/chart-pie.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-scatter {\\n    background-image: url(\\\"/assets/img/charts/chart-scatter.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-stack {\\n    background-image: url(\\\"/assets/img/charts/chart-stack.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-geo {\\n    background-image: url(\\\"/assets/img/charts/chart-geo-location.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-tsspline {\\n    background-image: url(\\\"/assets/img/charts/timeseries-chart.png\\\"); }\\n\\n.saw-ac-placeholder.m-chart-tsPane {\\n    background-image: url(\\\"/assets/img/charts/timeseries-multi-chart.png\\\"); }\\n\\n.saw-ac-placeholder.m-map-map {\\n    background-image: url(\\\"/assets/img/charts/chart-geo-location.png\\\"); }\\n\\n.saw-ac-placeholder.m-map-chart_scale {\\n    background-image: url(\\\"/assets/img/charts/chart-geo-location.png\\\"); }\\n\\nmat-card-title.mat-card-title {\\n  padding: 0;\\n  margin: 0; }\\n\\nmat-card-title.mat-card-title > a {\\n    font-size: 18px;\\n    font-weight: 700; }\\n\\nmat-card-subtitle.mat-card-subtitle {\\n  padding-top: 0 !important;\\n  margin: 0; }\\n\\nmat-card-subtitle.mat-card-subtitle > span {\\n    font-size: 12px; }\\n\\nmat-card-footer.mat-card-footer {\\n  padding: 0 20px; }\\n\\n.mat-button-wrapper > mat-icon {\\n  color: #5c6670; }\\n\\nmat-chip.tag-chip {\\n  color: #5c6670; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvdmlldy9jYXJkL2FuYWx5emUtY2FyZC5jb21wb25lbnQuc2NzcyIsIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL3RoZW1lcy9iYXNlL19jb2xvcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXLEVBQUE7O0FBR2I7RUFDRSxhQUFhO0VBQ2IsWUFBWTtFQUNaLGVBQWU7RUFDZix3QkFBd0I7RUFDeEIsNEJBQTRCLEVBQUE7O0FBTDlCO0lBUUksc0RBQXNELEVBQUE7O0FBUjFEO0lBWUksc0RBQXNELEVBQUE7O0FBWjFEO0lBZ0JJLHFEQUFxRCxFQUFBOztBQWhCekQ7SUFvQkksNERBQTRELEVBQUE7O0FBcEJoRTtJQXdCSSw0REFBNEQsRUFBQTs7QUF4QmhFO0lBNEJJLDBEQUEwRCxFQUFBOztBQTVCOUQ7SUFnQ0ksMkRBQTJELEVBQUE7O0FBaEMvRDtJQW9DSSx5REFBeUQsRUFBQTs7QUFwQzdEO0lBd0NJLDJEQUEyRCxFQUFBOztBQXhDL0Q7SUE0Q0ksMERBQTBELEVBQUE7O0FBNUM5RDtJQWdESSx5REFBeUQsRUFBQTs7QUFoRDdEO0lBb0RJLDZEQUE2RCxFQUFBOztBQXBEakU7SUF3REksMkRBQTJELEVBQUE7O0FBeEQvRDtJQTRESSxrRUFBa0UsRUFBQTs7QUE1RHRFO0lBZ0VJLGdFQUFnRSxFQUFBOztBQWhFcEU7SUFvRUksc0VBQXNFLEVBQUE7O0FBcEUxRTtJQXdFSSxrRUFBa0UsRUFBQTs7QUF4RXRFO0lBNEVJLGtFQUFrRSxFQUFBOztBQUl0RTtFQUNFLFVBQVU7RUFDVixTQUFTLEVBQUE7O0FBRlg7SUFLSSxlQUFlO0lBQ2YsZ0JBQWdCLEVBQUE7O0FBSXBCO0VBQ0UseUJBQXlCO0VBQ3pCLFNBQVMsRUFBQTs7QUFGWDtJQUtJLGVBQWUsRUFBQTs7QUFJbkI7RUFDRSxlQUFlLEVBQUE7O0FBR2pCO0VBQ0UsY0M5RnVCLEVBQUE7O0FEaUd6QjtFQUNFLGNDbEd1QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9hbmFseXplL3ZpZXcvY2FyZC9hbmFseXplLWNhcmQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwic3JjL3RoZW1lcy9iYXNlL2NvbG9yc1wiO1xuXG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IDVweDtcbn1cblxuLnNhdy1hYy1wbGFjZWhvbGRlciB7XG4gIGhlaWdodDogMTU5cHg7XG4gIHdpZHRoOiA0MzRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG5cbiAgJi5tLXJlcG9ydCB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9jaGFydHMvcmVwb3J0LnBuZycpO1xuICB9XG5cbiAgJi5tLWVzUmVwb3J0IHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1nL2NoYXJ0cy9yZXBvcnQucG5nJyk7XG4gIH1cblxuICAmLm0tcGl2b3Qge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWcvY2hhcnRzL3Bpdm90LnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LWJ1YmJsZSB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9jaGFydHMvY2hhcnQtYnViYmxlLnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LWNvbHVtbiB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9jaGFydHMvY2hhcnQtY29sdW1uLnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LWFyZWEge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWcvY2hhcnRzL2NoYXJ0LWFyZWEuc3ZnJyk7XG4gIH1cblxuICAmLm0tY2hhcnQtY29tYm8ge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWcvY2hhcnRzL2NoYXJ0LWNvbWJvLnN2ZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LWJhciB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9jaGFydHMvY2hhcnQtYmFyLnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LWRvbnV0IHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1nL2NoYXJ0cy9jaGFydC1kb251dC5wbmcnKTtcbiAgfVxuXG4gICYubS1jaGFydC1saW5lIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1nL2NoYXJ0cy9jaGFydC1saW5lLnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LXBpZSB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9jaGFydHMvY2hhcnQtcGllLnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LXNjYXR0ZXIge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWcvY2hhcnRzL2NoYXJ0LXNjYXR0ZXIucG5nJyk7XG4gIH1cblxuICAmLm0tY2hhcnQtc3RhY2sge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWcvY2hhcnRzL2NoYXJ0LXN0YWNrLnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LWdlbyB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9jaGFydHMvY2hhcnQtZ2VvLWxvY2F0aW9uLnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LXRzc3BsaW5lIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1nL2NoYXJ0cy90aW1lc2VyaWVzLWNoYXJ0LnBuZycpO1xuICB9XG5cbiAgJi5tLWNoYXJ0LXRzUGFuZSB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9jaGFydHMvdGltZXNlcmllcy1tdWx0aS1jaGFydC5wbmcnKTtcbiAgfVxuXG4gICYubS1tYXAtbWFwIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1nL2NoYXJ0cy9jaGFydC1nZW8tbG9jYXRpb24ucG5nJyk7XG4gIH1cblxuICAmLm0tbWFwLWNoYXJ0X3NjYWxlIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1nL2NoYXJ0cy9jaGFydC1nZW8tbG9jYXRpb24ucG5nJyk7XG4gIH1cbn1cblxubWF0LWNhcmQtdGl0bGUubWF0LWNhcmQtdGl0bGUge1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG5cbiAgPiBhIHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgfVxufVxuXG5tYXQtY2FyZC1zdWJ0aXRsZS5tYXQtY2FyZC1zdWJ0aXRsZSB7XG4gIHBhZGRpbmctdG9wOiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMDtcblxuICA+IHNwYW4ge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgfVxufVxuXG5tYXQtY2FyZC1mb290ZXIubWF0LWNhcmQtZm9vdGVyIHtcbiAgcGFkZGluZzogMCAyMHB4O1xufVxuXG4ubWF0LWJ1dHRvbi13cmFwcGVyID4gbWF0LWljb24ge1xuICBjb2xvcjogJHByaW1hcnktZ3JleS1nNDtcbn1cblxubWF0LWNoaXAudGFnLWNoaXAge1xuICBjb2xvcjogJHByaW1hcnktZ3JleS1nNDtcbn1cbiIsIi8vIEJyYW5kaW5nIGNvbG9yc1xuJHByaW1hcnktYmx1ZS1iMTogIzFhODlkNDtcbiRwcmltYXJ5LWJsdWUtYjI6ICMwMDc3YmU7XG4kcHJpbWFyeS1ibHVlLWIzOiAjMjA2YmNlO1xuJHByaW1hcnktYmx1ZS1iNDogIzFkM2FiMjtcblxuJHByaW1hcnktaG92ZXItYmx1ZTogIzFkNjFiMTtcbiRncmlkLWhvdmVyLWNvbG9yOiAjZjVmOWZjO1xuJGdyaWQtaGVhZGVyLWJnLWNvbG9yOiAjZDdlYWZhO1xuJGdyaWQtaGVhZGVyLWNvbG9yOiAjMGI0ZDk5O1xuJGdyaWQtdGV4dC1jb2xvcjogIzQ2NDY0NjtcbiRncmV5LXRleHQtY29sb3I6ICM2MzYzNjM7XG5cbiRzZWxlY3Rpb24taGlnaGxpZ2h0LWNvbDogcmdiYSgwLCAxNDAsIDI2MCwgMC4yKTtcbiRwcmltYXJ5LWdyZXktZzE6ICNkMWQzZDM7XG4kcHJpbWFyeS1ncmV5LWcyOiAjOTk5O1xuJHByaW1hcnktZ3JleS1nMzogIzczNzM3MztcbiRwcmltYXJ5LWdyZXktZzQ6ICM1YzY2NzA7XG4kcHJpbWFyeS1ncmV5LWc1OiAjMzEzMTMxO1xuJHByaW1hcnktZ3JleS1nNjogI2Y1ZjVmNTtcbiRwcmltYXJ5LWdyZXktZzc6ICMzZDNkM2Q7XG5cbiRwcmltYXJ5LXdoaXRlOiAjZmZmO1xuJHByaW1hcnktYmxhY2s6ICMwMDA7XG4kcHJpbWFyeS1yZWQ6ICNhYjBlMjc7XG4kcHJpbWFyeS1ncmVlbjogIzczYjQyMTtcbiRwcmltYXJ5LW9yYW5nZTogI2YwNzYwMTtcblxuJHNlY29uZGFyeS1ncmVlbjogIzZmYjMyMDtcbiRzZWNvbmRhcnkteWVsbG93OiAjZmZiZTAwO1xuJHNlY29uZGFyeS1vcmFuZ2U6ICNmZjkwMDA7XG4kc2Vjb25kYXJ5LXJlZDogI2Q5M2UwMDtcbiRzZWNvbmRhcnktYmVycnk6ICNhYzE0NWE7XG4kc2Vjb25kYXJ5LXB1cnBsZTogIzkxNDE5MTtcblxuJHN0cmluZy10eXBlLWNvbG9yOiAjNDk5NWIyO1xuJG51bWJlci10eXBlLWNvbG9yOiAjMDBiMTgwO1xuJGdlby10eXBlLWNvbG9yOiAjODQ1ZWMyO1xuJGRhdGUtdHlwZS1jb2xvcjogI2QxOTYyMTtcblxuJHR5cGUtY2hpcC1vcGFjaXR5OiAxO1xuJHN0cmluZy10eXBlLWNoaXAtY29sb3I6IHJnYmEoJHN0cmluZy10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJG51bWJlci10eXBlLWNoaXAtY29sb3I6IHJnYmEoJG51bWJlci10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJGdlby10eXBlLWNoaXAtY29sb3I6IHJnYmEoJGdlby10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJGRhdGUtdHlwZS1jaGlwLWNvbG9yOiByZ2JhKCRkYXRlLXR5cGUtY29sb3IsICR0eXBlLWNoaXAtb3BhY2l0eSk7XG5cbiRyZXBvcnQtZGVzaWduZXItc2V0dGluZ3MtYmctY29sb3I6ICNmNWY5ZmM7XG4kYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjlmYztcbiJdfQ== */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { AnalyzeActionsService } from '../../actions';\nimport {\n  ExecuteService,\n  IExecuteEvent,\n  IExecuteEventEmitter,\n  EXECUTION_STATES\n} from '../../services/execute.service';\nimport { DesignerSaveEvent, isDSLAnalysis } from '../../designer/types';\nimport {\n  Analysis,\n  AnalysisDSL,\n  AnalysisChart,\n  AnalyzeViewActionEvent\n} from '../types';\nimport { JwtService } from '../../../../common/services';\nimport { generateSchedule } from '../../../../common/utils/cron2Readable';\nimport * as isUndefined from 'lodash/isUndefined';\n\n@Component({\n  selector: 'analyze-card',\n  templateUrl: './analyze-card.component.html',\n  styleUrls: ['./analyze-card.component.scss']\n})\nexport class AnalyzeCardComponent implements OnInit {\n  @Output() action: EventEmitter<AnalyzeViewActionEvent> = new EventEmitter();\n  @Input() analysis: Analysis | AnalysisDSL;\n  @Input() analysisType: string;\n  @Input() highlightTerm: string;\n  @Input()\n  set cronJobs(cronJobs: any) {\n    const cron = isUndefined(cronJobs) ? '' : cronJobs[this.analysis.id];\n    if (!cron) {\n      this.schedule = '';\n      return;\n    }\n    const { cronExpression, activeTab, timezone } = cron.jobDetails;\n    this.schedule = generateSchedule(cronExpression, activeTab, timezone);\n  }\n\n  placeholderClass: string;\n  schedule: string;\n  // type identifier used for e2e tag\n  typeIdentifier: string;\n  canUserFork = false;\n  isExecuting = false;\n\n  constructor(\n    public _analyzeActionsService: AnalyzeActionsService,\n    public _jwt: JwtService,\n    public _executeService: ExecuteService\n  ) {\n    this.onExecutionEvent = this.onExecutionEvent.bind(this);\n    this.onExecutionsEvent = this.onExecutionsEvent.bind(this);\n  }\n\n  ngOnInit() {\n    this.canUserFork = this._jwt.hasPrivilege('FORK', {\n      subCategoryId: isDSLAnalysis(this.analysis)\n        ? this.analysis.category\n        : this.analysis.categoryId\n    });\n    const { type, id } = this.analysis;\n    let chartType = isDSLAnalysis(this.analysis)\n      ? this.analysis.chartOptions.chartType\n      : (<AnalysisChart>this.analysis).chartType;\n    chartType = type === 'chart' ? chartType : '';\n    this.placeholderClass = `m-${type}${chartType ? `-${chartType}` : ''}`;\n    this.typeIdentifier = `analysis-type:${type}${\n      chartType ? `:${chartType}` : ''\n    }`;\n\n    this._executeService.subscribe(id, this.onExecutionsEvent);\n  }\n\n  onExecutionsEvent(e: IExecuteEventEmitter) {\n    if (!e.subject.isStopped) {\n      e.subject.subscribe(this.onExecutionEvent);\n    }\n  }\n\n  onExecutionEvent(e: IExecuteEvent) {\n    this.isExecuting = e.state === EXECUTION_STATES.EXECUTING;\n  }\n\n  afterDelete(analysis) {\n    this.action.emit({\n      action: 'delete',\n      analysis\n    });\n  }\n\n  afterExecute(analysis) {\n    this.action.emit({\n      action: 'execute',\n      analysis\n    });\n  }\n\n  afterPublish(analysis) {\n    this.action.emit({\n      action: 'publish',\n      analysis\n    });\n  }\n\n  afterEdit({ analysis, requestExecution }: DesignerSaveEvent) {\n    this.action.emit({\n      action: 'edit',\n      analysis,\n      requestExecution\n    });\n  }\n\n  fork(an) {\n    this._analyzeActionsService.fork(an);\n  }\n\n  getType(type) {\n    let analysisType = type;\n    if (analysisType === 'esReport') {\n      analysisType = 'REPORT';\n    }\n    return analysisType.toUpperCase();\n  }\n}\n","export { AnalyzeCardComponent } from './analyze-card.component';\n","import { NgModule } from '@angular/core';\nimport { CommonModuleTs } from '../../../common';\nimport { AnalyzeActionsModule } from '../actions';\nimport { AnalyzeViewComponent } from './analyze-view.component';\nimport { AnalyzeCardComponent } from './card';\nimport { AnalyzeCardViewComponent } from './card-view';\nimport { AnalyzeListViewComponent } from './list-view';\nimport { AnalyzeNewDialogComponent } from './new-dialog';\nimport { AnalysesFilterPipe } from './analyses-filter.pipe';\n\n\n\nconst COMPONENTS = [\n  AnalyzeViewComponent,\n  AnalyzeCardViewComponent,\n  AnalyzeListViewComponent,\n  AnalyzeCardComponent,\n  AnalyzeNewDialogComponent\n];\n\n@NgModule({\n  imports: [\n    CommonModuleTs,\n    AnalyzeActionsModule\n  ],\n  declarations: [\n    ...COMPONENTS,\n    AnalysesFilterPipe\n  ],\n  entryComponents: COMPONENTS,\n  exports: [AnalyzeViewComponent]\n})\nexport class AnalyzeViewModule {}\nexport { AnalyzeViewComponent };\n","module.exports = \"<div style=\\\"height: calc(100vh - 51px - 70px - 65px);\\\">\\n  <dx-data-grid\\n    [customizeColumns]=\\\"config.customizeColumns\\\"\\n    [columnAutoWidth]=\\\"config.columnAutoWidth\\\"\\n    [columnMinWidth]=\\\"config.columnMinWidth\\\"\\n    [columnResizingMode]=\\\"config.columnResizingMode\\\"\\n    [allowColumnReordering]=\\\"config.allowColumnReordering\\\"\\n    [allowColumnResizing]=\\\"config.allowColumnResizing\\\"\\n    [showColumnHeaders]=\\\"config.showColumnHeaders\\\"\\n    [showColumnLines]=\\\"config.showColumnLines\\\"\\n    [showRowLines]=\\\"config.showRowLines\\\"\\n    [showBorders]=\\\"config.showBorders\\\"\\n    [rowAlternationEnabled]=\\\"config.rowAlternationEnabled\\\"\\n    [hoverStateEnabled]=\\\"config.hoverStateEnabled\\\"\\n    [wordWrapEnabled]=\\\"config.wordWrapEnabled\\\"\\n    [scrolling]=\\\"config.scrolling\\\"\\n    [sorting]=\\\"config.sorting\\\"\\n    [dataSource]=\\\"analyses\\\"\\n    [columns]=\\\"config.columns\\\"\\n    [pager]=\\\"config.pager\\\"\\n    [paging]=\\\"config.paging\\\"\\n    [width]=\\\"config.width\\\"\\n    [height]=\\\"config.height\\\"\\n  >\\n    <dxo-scrolling\\n      mode=\\\"virtual\\\"\\n      showScrollbar=\\\"always\\\"\\n      [useNative]=\\\"false\\\"\\n    ></dxo-scrolling>\\n\\n    <div *dxTemplate=\\\"let cell of 'linkCellTemplate'\\\">\\n      <a\\n        [innerHtml]=\\\"cell.text | highlight: searchTerm\\\"\\n        [queryParams]=\\\"{ isDSL: !!cell.data.sipQuery }\\\"\\n        routerLink=\\\"../analysis/{{ cell.data.id }}/executed\\\"\\n      >\\n      </a>\\n\\n      <mat-chip\\n        class=\\\"tag-chip status-chip mat-basic-chip\\\"\\n        *ngIf=\\\"executions[cell.data.id] === executingState\\\"\\n        i18n\\n      >\\n        EXECUTING\\n      </mat-chip>\\n    </div>\\n\\n    <div\\n      *dxTemplate=\\\"let cell of 'typeCellTemplate'\\\"\\n      [innerHtml]=\\\"cell.text | highlight: searchTerm\\\"\\n    ></div>\\n\\n    <div\\n      *dxTemplate=\\\"let cell of 'highlightCellTemplate'\\\"\\n      [innerHtml]=\\\"cell.text | highlight: searchTerm\\\"\\n    ></div>\\n\\n    <div *dxTemplate=\\\"let cell of 'dateCellTemplate'\\\">\\n      {{ cell.text | date: 'dd/MMM/yy' }}\\n    </div>\\n\\n    <div *dxTemplate=\\\"let cell of 'actionCellTemplate'\\\">\\n      <div\\n        fxLayout=\\\"row\\\"\\n        fxLayoutAlign=\\\"center center\\\"\\n        class=\\\"list-action__container\\\"\\n      >\\n        <button\\n          mat-icon-button\\n          *ngIf=\\\"canUserFork\\\"\\n          (click)=\\\"fork(cell.data)\\\"\\n          class=\\\"list-action__button\\\"\\n          i18n-matTooltip=\\\"Fork Analysis\\\"\\n          matTooltip=\\\"Fork Analysis\\\"\\n        >\\n          <mat-icon fontIcon=\\\"icon-fork\\\"></mat-icon>\\n        </button>\\n        <analyze-actions-menu-u\\n          class=\\\"list-view-actions-menu\\\"\\n          [analysis]=\\\"cell.data\\\"\\n          [actionsToDisable]=\\\"\\n            executions[cell.data.id] === executingState ? 'execute' : ''\\n          \\\"\\n          exclude=\\\"fork-export-details\\\"\\n          (afterDelete)=\\\"afterDelete($event)\\\"\\n          (afterExecute)=\\\"afterExecute($event)\\\"\\n          (afterPublish)=\\\"afterPublish($event)\\\"\\n          (afterEdit)=\\\"afterEdit($event)\\\"\\n        ></analyze-actions-menu-u>\\n      </div>\\n    </div>\\n  </dx-data-grid>\\n</div>\\n\"","module.exports = \".branded-column-name {\\n  color: #0077be;\\n  font-weight: bolder; }\\n\\n.list-action__container {\\n  max-height: 24px;\\n  height: 24px; }\\n\\n.list-action__container .list-action__button {\\n    display: inline-flex;\\n    min-width: 24px;\\n    min-height: 24px;\\n    line-height: 24px;\\n    height: 24px; }\\n\\n.list-view-actions-menu {\\n  width: 30%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvdmlldy9saXN0LXZpZXcvYW5hbHl6ZS1saXN0LXZpZXcuY29tcG9uZW50LnNjc3MiLCIvVXNlcnMvYmFybmFtdW10eWFuL1Byb2plY3RzL21vZHVzL3NpcC9zYXctd2ViL3NyYy90aGVtZXMvYmFzZS9fY29sb3JzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxjQ0R1QjtFREV2QixtQkFBbUIsRUFBQTs7QUFHckI7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWSxFQUFBOztBQUZkO0lBS0ksb0JBQW9CO0lBQ3BCLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLFlBQVksRUFBQTs7QUFJaEI7RUFDRSxVQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvdmlldy9saXN0LXZpZXcvYW5hbHl6ZS1saXN0LXZpZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwic3JjL3RoZW1lcy9iYXNlL2NvbG9yc1wiO1xuXG4uYnJhbmRlZC1jb2x1bW4tbmFtZSB7XG4gIGNvbG9yOiAkcHJpbWFyeS1ibHVlLWIyO1xuICBmb250LXdlaWdodDogYm9sZGVyO1xufVxuXG4ubGlzdC1hY3Rpb25fX2NvbnRhaW5lciB7XG4gIG1heC1oZWlnaHQ6IDI0cHg7XG4gIGhlaWdodDogMjRweDtcblxuICAubGlzdC1hY3Rpb25fX2J1dHRvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgbWluLXdpZHRoOiAyNHB4O1xuICAgIG1pbi1oZWlnaHQ6IDI0cHg7XG4gICAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gICAgaGVpZ2h0OiAyNHB4O1xuICB9XG59XG5cbi5saXN0LXZpZXctYWN0aW9ucy1tZW51IHtcbiAgd2lkdGg6IDMwJTtcbn1cbiIsIi8vIEJyYW5kaW5nIGNvbG9yc1xuJHByaW1hcnktYmx1ZS1iMTogIzFhODlkNDtcbiRwcmltYXJ5LWJsdWUtYjI6ICMwMDc3YmU7XG4kcHJpbWFyeS1ibHVlLWIzOiAjMjA2YmNlO1xuJHByaW1hcnktYmx1ZS1iNDogIzFkM2FiMjtcblxuJHByaW1hcnktaG92ZXItYmx1ZTogIzFkNjFiMTtcbiRncmlkLWhvdmVyLWNvbG9yOiAjZjVmOWZjO1xuJGdyaWQtaGVhZGVyLWJnLWNvbG9yOiAjZDdlYWZhO1xuJGdyaWQtaGVhZGVyLWNvbG9yOiAjMGI0ZDk5O1xuJGdyaWQtdGV4dC1jb2xvcjogIzQ2NDY0NjtcbiRncmV5LXRleHQtY29sb3I6ICM2MzYzNjM7XG5cbiRzZWxlY3Rpb24taGlnaGxpZ2h0LWNvbDogcmdiYSgwLCAxNDAsIDI2MCwgMC4yKTtcbiRwcmltYXJ5LWdyZXktZzE6ICNkMWQzZDM7XG4kcHJpbWFyeS1ncmV5LWcyOiAjOTk5O1xuJHByaW1hcnktZ3JleS1nMzogIzczNzM3MztcbiRwcmltYXJ5LWdyZXktZzQ6ICM1YzY2NzA7XG4kcHJpbWFyeS1ncmV5LWc1OiAjMzEzMTMxO1xuJHByaW1hcnktZ3JleS1nNjogI2Y1ZjVmNTtcbiRwcmltYXJ5LWdyZXktZzc6ICMzZDNkM2Q7XG5cbiRwcmltYXJ5LXdoaXRlOiAjZmZmO1xuJHByaW1hcnktYmxhY2s6ICMwMDA7XG4kcHJpbWFyeS1yZWQ6ICNhYjBlMjc7XG4kcHJpbWFyeS1ncmVlbjogIzczYjQyMTtcbiRwcmltYXJ5LW9yYW5nZTogI2YwNzYwMTtcblxuJHNlY29uZGFyeS1ncmVlbjogIzZmYjMyMDtcbiRzZWNvbmRhcnkteWVsbG93OiAjZmZiZTAwO1xuJHNlY29uZGFyeS1vcmFuZ2U6ICNmZjkwMDA7XG4kc2Vjb25kYXJ5LXJlZDogI2Q5M2UwMDtcbiRzZWNvbmRhcnktYmVycnk6ICNhYzE0NWE7XG4kc2Vjb25kYXJ5LXB1cnBsZTogIzkxNDE5MTtcblxuJHN0cmluZy10eXBlLWNvbG9yOiAjNDk5NWIyO1xuJG51bWJlci10eXBlLWNvbG9yOiAjMDBiMTgwO1xuJGdlby10eXBlLWNvbG9yOiAjODQ1ZWMyO1xuJGRhdGUtdHlwZS1jb2xvcjogI2QxOTYyMTtcblxuJHR5cGUtY2hpcC1vcGFjaXR5OiAxO1xuJHN0cmluZy10eXBlLWNoaXAtY29sb3I6IHJnYmEoJHN0cmluZy10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJG51bWJlci10eXBlLWNoaXAtY29sb3I6IHJnYmEoJG51bWJlci10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJGdlby10eXBlLWNoaXAtY29sb3I6IHJnYmEoJGdlby10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJGRhdGUtdHlwZS1jaGlwLWNvbG9yOiByZ2JhKCRkYXRlLXR5cGUtY29sb3IsICR0eXBlLWNoaXAtb3BhY2l0eSk7XG5cbiRyZXBvcnQtZGVzaWduZXItc2V0dGluZ3MtYmctY29sb3I6ICNmNWY5ZmM7XG4kYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjlmYztcbiJdfQ== */\"","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\nimport * as forEach from 'lodash/forEach';\nimport * as isEmpty from 'lodash/isEmpty';\nimport * as get from 'lodash/get';\nimport { DxDataGridService } from '../../../../common/services/dxDataGrid.service';\nimport { AnalyzeActionsService } from '../../actions';\nimport { generateSchedule } from '../../../../common/utils/cron2Readable';\nimport {\n  ExecuteService,\n  EXECUTION_STATES\n} from '../../services/execute.service';\nimport { DesignerSaveEvent } from '../../designer/types';\nimport { Analysis, AnalyzeViewActionEvent } from '../types';\nimport { JwtService } from '../../../../common/services';\n\n@Component({\n  selector: 'analyze-list-view',\n  templateUrl: './analyze-list-view.component.html',\n  styleUrls: ['./analyze-list-view.component.scss']\n})\nexport class AnalyzeListViewComponent implements OnInit {\n  @Output() action: EventEmitter<AnalyzeViewActionEvent> = new EventEmitter();\n  @Input('analyses')\n  set setAnalyses(analyses: Analysis[]) {\n    this.analyses = analyses;\n    if (!isEmpty(analyses)) {\n      this.canUserFork = this._jwt.hasPrivilege('FORK', {\n        subCategoryId: analyses[0].categoryId\n      });\n    }\n  }\n  @Input() analysisType: string;\n  @Input() searchTerm: string;\n  @Input() cronJobs: any;\n  @Input() semanticLayerDataMap;\n\n  public config: any;\n  public canUserFork = false;\n  public analyses: Analysis[];\n  public executions = {};\n  public executingState = EXECUTION_STATES.EXECUTING;\n\n  constructor(\n    public _DxDataGridService: DxDataGridService,\n    public _analyzeActionsService: AnalyzeActionsService,\n    public _jwt: JwtService,\n    public _executeService: ExecuteService\n  ) {}\n\n  ngOnInit() {\n    this.config = this.getGridConfig();\n    this.onExecutionEvent = this.onExecutionEvent.bind(this);\n    this._executeService.subscribeToAllExecuting(this.onExecutionEvent);\n  }\n\n  onExecutionEvent(e) {\n    this.executions = e;\n  }\n\n  afterDelete(analysis) {\n    this.action.emit({\n      action: 'delete',\n      analysis\n    });\n  }\n\n  afterExecute(analysis) {\n    this.action.emit({\n      action: 'execute',\n      analysis\n    });\n  }\n\n  afterPublish(analysis) {\n    this.action.emit({\n      action: 'publish',\n      analysis\n    });\n  }\n\n  afterEdit({ analysis, requestExecution }: DesignerSaveEvent) {\n    this.action.emit({\n      action: 'edit',\n      analysis,\n      requestExecution\n    });\n  }\n\n  fork(an) {\n    this._analyzeActionsService.fork(an);\n  }\n\n  getRowType(rowData) {\n    let analysisType = rowData.type;\n    if (analysisType === 'esReport') {\n      analysisType = 'REPORT';\n    }\n    return analysisType.toUpperCase();\n  }\n\n  getGridConfig() {\n    const columns = [\n      {\n        caption: 'NAME',\n        dataField: 'name',\n        width: '20%',\n        cellTemplate: 'linkCellTemplate',\n        cssClass: 'branded-column-name'\n      },\n      {\n        caption: 'METRICS',\n        dataField: 'metrics',\n        width: '20%',\n        calculateCellValue: rowData =>\n          get(this.semanticLayerDataMap, `${rowData.semanticId}.metricName`),\n        cellTemplate: 'highlightCellTemplate'\n      },\n      {\n        caption: 'SCHEDULED',\n        calculateCellValue: rowData => {\n          const cron = !this.cronJobs ? '' : this.cronJobs[rowData.id];\n          if (!cron) {\n            return 'No Schedule Set';\n          }\n          const { cronExpression, activeTab, timezone } = cron.jobDetails;\n          return generateSchedule(cronExpression, activeTab, timezone);\n        },\n        width: '12%'\n      },\n      {\n        caption: 'TYPE',\n        dataField: 'type',\n        width: '8%',\n        calculateCellValue: rowData => this.getRowType(rowData),\n        cellTemplate: 'typeCellTemplate'\n      },\n      {\n        caption: 'LAST MODIFIED BY',\n        width: '20%',\n        calculateCellValue: rowData =>\n          (rowData.modifiedBy || rowData.createdBy || '').toUpperCase(),\n        cellTemplate: 'highlightCellTemplate'\n      },\n      {\n        caption: 'LAST MODIFIED ON',\n        width: '10%',\n        calculateCellValue: rowData =>\n          rowData.modifiedTime || rowData.createdTime || null,\n        cellTemplate: 'dateCellTemplate'\n      },\n      {\n        caption: '',\n        cellTemplate: 'actionCellTemplate'\n      }\n    ];\n    return this._DxDataGridService.mergeWithDefaultConfig({\n      columns,\n      paging: {\n        pageSize: 10\n      },\n      pager: {\n        showPageSizeSelector: true,\n        showInfo: true\n      },\n      width: '100%',\n      height: '100%',\n      customizeColumns: cols => {\n        const last = cols.length - 1;\n        forEach(cols, (col, i) => {\n          if (i === last) {\n            col.allowSorting = false;\n            col.alignment = 'center';\n          } else {\n            col.allowSorting = true;\n            col.alignment = 'left';\n          }\n        });\n      }\n    });\n  }\n}\n","export { AnalyzeListViewComponent } from './analyze-list-view.component';\n","module.exports = \"<h2 mat-dialog-title i18n>\\n  Create New Analysis\\n  <button mat-icon-button\\n          (click)=\\\"_dialogRef.close()\\\">\\n    <mat-icon fontIcon=\\\"icon-close\\\"></mat-icon>\\n  </button>\\n</h2>\\n<mat-divider></mat-divider>\\n<mat-dialog-content>\\n\\n  <mat-horizontal-stepper linear=\\\"true\\\" #newAnalysisStepper>\\n\\n    <ng-template matStepperIcon=\\\"done\\\">\\n      <mat-icon fontIcon=\\\"icon-checkmark\\\"></mat-icon>\\n    </ng-template>\\n    <ng-template matStepperIcon=\\\"edit\\\">\\n      <mat-icon fontIcon=\\\"icon-checkmark\\\"></mat-icon>\\n    </ng-template>\\n\\n    <mat-step label=\\\"Select Analysis Type\\\" [completed]=\\\"!!selectedMethod\\\">\\n      <div class=\\\"container\\\">\\n        <div *ngFor=\\\"let category of methodCategories; trackBy: trackById\\\">\\n          <div class=\\\"md-body-1\\\" flex>{{category.label}}</div>\\n          <choice-group-u (change)=\\\"onMethodSelected($event)\\\"\\n                          [items]=\\\"category.children\\\"\\n                          [value]=\\\"selectedMethod\\\"\\n          ></choice-group-u>\\n        </div>\\n      </div>\\n    </mat-step>\\n\\n    <mat-step label=\\\"Select Datapod\\\" [completed]=\\\"!!selectedMetric\\\">\\n      <mat-form-field appearance=\\\"outline\\\">\\n        <mat-icon matPrefix fontIcon=\\\"icon-search\\\"></mat-icon>\\n        <input matInput\\n               autocomplete=\\\"off\\\"\\n               [attr.e2e]=\\\"'metric-search-input-field'\\\"\\n               [(ngModel)]=\\\"searchMetric\\\" placeholder=\\\"Search\\\">\\n        <mat-icon matSuffix (click)=\\\"searchMetric = ''\\\" *ngIf=\\\"searchMetric\\\" fontIcon=\\\"icon-close\\\"></mat-icon>\\n      </mat-form-field>\\n      <button mat-button\\n              matTooltip=\\\"Sort\\\"\\n              (click)=\\\"toggleSort()\\\">\\n        <mat-icon style=\\\"vertical-align: baseline\\\" fontIcon=\\\"icon-sort2\\\"></mat-icon>\\n        Sort\\n      </button>\\n      <mat-tab-group>\\n        <mat-tab *ngFor=\\\"let metricCategory of supportedMetricCategories\\\">\\n          <ng-template mat-tab-label>\\n            <mat-icon class=\\\"tab-icon\\\" [svgIcon]=\\\"getCategoryIcon(metricCategory)\\\"></mat-icon>\\n            {{getMetricCategoryLabel(metricCategory)}}\\n          </ng-template>\\n          <mat-radio-group (change)=\\\"onMetricSelected($event.value)\\\" fxLayout=\\\"row wrap\\\" class=\\\"container\\\" [value]=\\\"selectedMetric\\\">\\n            <mat-radio-button *ngFor=\\\"let metric of metricCategory.metrics | filter:'metricName':searchMetric; trackBy: trackById\\\"\\n                              class=\\\"metric-radio-button\\\"\\n                              [attr.e2e]=\\\"'metric-name-' + metric.metricName\\\"\\n                              [value]=\\\"metric\\\"\\n            >\\n              <mat-icon class=\\\"category-icon\\\" [svgIcon]=\\\"getCategoryIcon(metricCategory)\\\"></mat-icon>\\n              <div class=\\\"category-detail\\\">\\n                {{metric.metricName}}\\n                <span class=\\\"metric-created-time\\\" *ngIf=\\\"metric.createdAt\\\" [textContent]=\\\"'Created: ' + metric.createdAt\\\"></span>\\n                <span class=\\\"metric-created-time\\\" *ngIf=\\\"metric.updatedAt\\\" [textContent]=\\\"'Updated: ' + metric.updatedAt\\\"></span>\\n              </div>\\n            </mat-radio-button>\\n          </mat-radio-group>\\n        </mat-tab>\\n      </mat-tab-group>\\n    </mat-step>\\n\\n  </mat-horizontal-stepper>\\n</mat-dialog-content>\\n<mat-divider></mat-divider>\\n<div fxLayout=\\\"row-reverse\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"dialog-actions\\\">\\n  <button (click)=\\\"nextStep()\\\"\\n          [disabled]=\\\"nextButtonDisabled()\\\"\\n          e2e=\\\"create-analysis-btn\\\"\\n          color=\\\"primary\\\"\\n          mat-raised-button i18n\\n          >{{newAnalysisStepper.selectedIndex === 1 ? 'Create' : 'Next'}}</button>\\n  <button (click)=\\\"previousStep()\\\"\\n          e2e=\\\"create-analysis-back-button\\\"\\n          *ngIf=\\\"stepper.selectedIndex > 0\\\"\\n          mat-button\\n          i18n\\n  >Back</button>\\n</div>\\n\"","module.exports = \":host {\\n  z-index: 80;\\n  display: flex;\\n  flex-direction: column;\\n  width: 700px;\\n  height: 620px; }\\n\\nh2.mat-dialog-title {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n  margin: 0; }\\n\\nh2.mat-dialog-title ::ng-deep span.mat-button-wrapper {\\n    position: relative;\\n    top: -10px; }\\n\\n.mat-dialog-content {\\n  padding: 0 20px;\\n  overflow: hidden;\\n  flex-grow: 1;\\n  max-height: unset; }\\n\\nmat-form-field {\\n  width: 50%;\\n  margin-left: 5px; }\\n\\nmat-form-field ::ng-deep .mat-form-field-infix {\\n    padding: 1em 0 0.5em 0;\\n    border: none; }\\n\\nmat-form-field ::ng-deep .mat-form-field-infix input {\\n      line-height: 21px; }\\n\\nmat-form-field ::ng-deep .mat-form-field-suffix,\\n  mat-form-field ::ng-deep .mat-form-field-prefix {\\n    top: 0em; }\\n\\nmat-form-field ::ng-deep .mat-form-field-suffix {\\n    font-size: 10px;\\n    top: -2px;\\n    cursor: pointer; }\\n\\nmat-horizontal-stepper ::ng-deep .mat-horizontal-stepper-header-container {\\n  margin: 0 auto; }\\n\\nmat-tab-group ::ng-deep .mat-tab-body-wrapper {\\n  padding-top: 5px; }\\n\\nmat-tab-group ::ng-deep .mat-tab-label-active {\\n  color: #0077be; }\\n\\nmat-tab-group ::ng-deep .mat-tab-label {\\n  min-width: 100px;\\n  height: 30px; }\\n\\nmat-tab-group ::ng-deep mat-ink-bar {\\n  width: 100px; }\\n\\nmat-tab-group .tab-icon {\\n  padding-right: 5px;\\n  width: 14px;\\n  height: 14px; }\\n\\nmat-radio-group {\\n  overflow: auto;\\n  height: 335px;\\n  align-content: start; }\\n\\n.metric-radio-button {\\n  border: 1px solid #d1d3d3;\\n  border-radius: 5px;\\n  margin: 0 2px 5px;\\n  width: 32%;\\n  max-height: 64px; }\\n\\n.metric-radio-button ::ng-deep label.mat-radio-label {\\n    height: 60px;\\n    width: 100%; }\\n\\n.metric-radio-button ::ng-deep .mat-radio-container {\\n    display: none; }\\n\\n.metric-radio-button ::ng-deep .mat-radio-label-content {\\n    padding: 0;\\n    font-weight: bold;\\n    width: 100%;\\n    display: flex;\\n    color: #5c6670;\\n    align-items: center;\\n    justify-content: space-around;\\n    flex-direction: row-reverse; }\\n\\n.metric-radio-button ::ng-deep .mat-radio-label-content .category-icon {\\n      display: flex;\\n      padding-right: 10px;\\n      width: 20px;\\n      height: 20px;\\n      color: #0077be; }\\n\\n.metric-radio-button ::ng-deep .mat-radio-label-content .category-detail {\\n      display: flex;\\n      flex-direction: column;\\n      padding-left: 6px;\\n      flex-grow: 1; }\\n\\n.metric-radio-button .metric-created-time {\\n    font-weight: normal;\\n    font-size: 12px;\\n    color: #999; }\\n\\n::ng-deep .metric-radio-button.mat-radio-checked {\\n    background: #0077be; }\\n\\n::ng-deep .metric-radio-button.mat-radio-checked ::ng-deep .mat-radio-label-content {\\n      color: white !important; }\\n\\n::ng-deep .metric-radio-button.mat-radio-checked ::ng-deep .mat-radio-label-content .category-icon {\\n        color: white; }\\n\\n::ng-deep .metric-radio-button.mat-radio-checked .metric-created-time {\\n      color: white !important; }\\n\\n.section > label {\\n  color: #0077be;\\n  display: block;\\n  padding: 10px 0;\\n  font-size: 16px;\\n  font-weight: 400;\\n  letter-spacing: 0.01em;\\n  line-height: 24px; }\\n\\n.section .container {\\n  color: #5c6670;\\n  padding: 0 10px; }\\n\\n.section .container .mat-radio-label {\\n    max-width: 100%;\\n    white-space: normal;\\n    vertical-align: middle;\\n    font-size: 14px;\\n    font-weight: 600;\\n    color: #596574; }\\n\\n.section .container .mat-radio-label-content {\\n    word-wrap: break-word;\\n    display: inline-block;\\n    width: 186px;\\n    padding-bottom: 8px; }\\n\\n.dialog-actions {\\n  padding: 5px 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL2FwcC9tb2R1bGVzL2FuYWx5emUvdmlldy9uZXctZGlhbG9nL2FuYWx5emUtbmV3LWRpYWxvZy5jb21wb25lbnQuc2NzcyIsIi9Vc2Vycy9iYXJuYW11bXR5YW4vUHJvamVjdHMvbW9kdXMvc2lwL3Nhdy13ZWIvc3JjL3RoZW1lcy9iYXNlL19jb2xvcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixhQUFhLEVBQUE7O0FBR2Y7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLHVCQUF1QjtFQUN2QixTQUFTLEVBQUE7O0FBSlg7SUFPSSxrQkFBa0I7SUFDbEIsVUFBVSxFQUFBOztBQUlkO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osaUJBQWlCLEVBQUE7O0FBR25CO0VBQ0UsVUFBVTtFQUNWLGdCQUFnQixFQUFBOztBQUZsQjtJQUtJLHNCQUFzQjtJQUN0QixZQUFZLEVBQUE7O0FBTmhCO01BU00saUJBQWlCLEVBQUE7O0FBVHZCOztJQWVJLFFBQVEsRUFBQTs7QUFmWjtJQW1CSSxlQUFlO0lBQ2YsU0FBUztJQUNULGVBQWUsRUFBQTs7QUFJbkI7RUFFSSxjQUFjLEVBQUE7O0FBSWxCO0VBRUksZ0JBQWdCLEVBQUE7O0FBRnBCO0VBTUksY0NoRXFCLEVBQUE7O0FEMER6QjtFQVVJLGdCQUFnQjtFQUNoQixZQUFZLEVBQUE7O0FBWGhCO0VBZUksWUFBWSxFQUFBOztBQWZoQjtFQW1CSSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFJaEI7RUFDRSxjQUFjO0VBQ2QsYUFBYTtFQUNiLG9CQUFvQixFQUFBOztBQUd0QjtFQUNFLHlCQzlFdUI7RUQrRXZCLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsVUFBVTtFQUNWLGdCQUFnQixFQUFBOztBQUxsQjtJQVFJLFlBQVk7SUFDWixXQUFXLEVBQUE7O0FBVGY7SUFhSSxhQUFhLEVBQUE7O0FBYmpCO0lBaUJJLFVBQVU7SUFDVixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGFBQWE7SUFDYixjQy9GcUI7SURnR3JCLG1CQUFtQjtJQUNuQiw2QkFBNkI7SUFDN0IsMkJBQTJCLEVBQUE7O0FBeEIvQjtNQTJCTSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLFdBQVc7TUFDWCxZQUFZO01BQ1osY0N4SG1CLEVBQUE7O0FEeUZ6QjtNQW1DTSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLGlCQUFpQjtNQUNqQixZQUFZLEVBQUE7O0FBdENsQjtJQTJDSSxtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLFdDekhrQixFQUFBOztBRDRIcEI7SUFDRSxtQkMxSXFCLEVBQUE7O0FEeUl2QjtNQUlJLHVCQUF1QixFQUFBOztBQUozQjtRQU9NLFlBQVksRUFBQTs7QUFQbEI7TUFZSSx1QkFBdUIsRUFBQTs7QUFLN0I7RUFFSSxjQzVKcUI7RUQ2SnJCLGNBQWM7RUFDZCxlQUFlO0VBQ2YsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsaUJBQWlCLEVBQUE7O0FBUnJCO0VBWUksY0N2SnFCO0VEd0pyQixlQUFlLEVBQUE7O0FBYm5CO0lBZ0JNLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsc0JBQXNCO0lBQ3RCLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsY0FBYyxFQUFBOztBQXJCcEI7SUF5Qk0scUJBQXFCO0lBQ3JCLHFCQUFxQjtJQUNyQixZQUFZO0lBQ1osbUJBQW1CLEVBQUE7O0FBS3pCO0VBQ0UsY0FBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9hbmFseXplL3ZpZXcvbmV3LWRpYWxvZy9hbmFseXplLW5ldy1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICdzcmMvdGhlbWVzL2Jhc2UvY29sb3JzJztcblxuOmhvc3Qge1xuICB6LWluZGV4OiA4MDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgd2lkdGg6IDcwMHB4O1xuICBoZWlnaHQ6IDYyMHB4O1xufVxuXG5oMi5tYXQtZGlhbG9nLXRpdGxlIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgbWFyZ2luOiAwO1xuXG4gIDo6bmctZGVlcCBzcGFuLm1hdC1idXR0b24td3JhcHBlciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHRvcDogLTEwcHg7XG4gIH1cbn1cblxuLm1hdC1kaWFsb2ctY29udGVudCB7XG4gIHBhZGRpbmc6IDAgMjBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgZmxleC1ncm93OiAxO1xuICBtYXgtaGVpZ2h0OiB1bnNldDtcbn1cblxubWF0LWZvcm0tZmllbGQge1xuICB3aWR0aDogNTAlO1xuICBtYXJnaW4tbGVmdDogNXB4O1xuXG4gIDo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtaW5maXgge1xuICAgIHBhZGRpbmc6IDFlbSAwIDAuNWVtIDA7XG4gICAgYm9yZGVyOiBub25lO1xuXG4gICAgaW5wdXQge1xuICAgICAgbGluZS1oZWlnaHQ6IDIxcHg7XG4gICAgfVxuICB9XG5cbiAgOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1zdWZmaXgsXG4gIDo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtcHJlZml4IHtcbiAgICB0b3A6IDBlbTtcbiAgfVxuXG4gIDo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtc3VmZml4IHtcbiAgICBmb250LXNpemU6IDEwcHg7XG4gICAgdG9wOiAtMnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxufVxuXG5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyIHtcbiAgOjpuZy1kZWVwIC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWhlYWRlci1jb250YWluZXIge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG59XG5cbm1hdC10YWItZ3JvdXAge1xuICA6Om5nLWRlZXAgLm1hdC10YWItYm9keS13cmFwcGVyIHtcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xuICB9XG5cbiAgOjpuZy1kZWVwIC5tYXQtdGFiLWxhYmVsLWFjdGl2ZSB7XG4gICAgY29sb3I6ICRwcmltYXJ5LWJsdWUtYjI7XG4gIH1cblxuICA6Om5nLWRlZXAgLm1hdC10YWItbGFiZWwge1xuICAgIG1pbi13aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICB9XG5cbiAgOjpuZy1kZWVwIG1hdC1pbmstYmFyIHtcbiAgICB3aWR0aDogMTAwcHg7XG4gIH1cblxuICAudGFiLWljb24ge1xuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcbiAgICB3aWR0aDogMTRweDtcbiAgICBoZWlnaHQ6IDE0cHg7XG4gIH1cbn1cblxubWF0LXJhZGlvLWdyb3VwIHtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIGhlaWdodDogMzM1cHg7XG4gIGFsaWduLWNvbnRlbnQ6IHN0YXJ0O1xufVxuXG4ubWV0cmljLXJhZGlvLWJ1dHRvbiB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICRwcmltYXJ5LWdyZXktZzE7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgbWFyZ2luOiAwIDJweCA1cHg7XG4gIHdpZHRoOiAzMiU7XG4gIG1heC1oZWlnaHQ6IDY0cHg7XG5cbiAgOjpuZy1kZWVwIGxhYmVsLm1hdC1yYWRpby1sYWJlbCB7XG4gICAgaGVpZ2h0OiA2MHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgOjpuZy1kZWVwIC5tYXQtcmFkaW8tY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5cbiAgOjpuZy1kZWVwIC5tYXQtcmFkaW8tbGFiZWwtY29udGVudCB7XG4gICAgcGFkZGluZzogMDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGNvbG9yOiAkcHJpbWFyeS1ncmV5LWc0O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xuXG4gICAgLmNhdGVnb3J5LWljb24ge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIGNvbG9yOiAkcHJpbWFyeS1ibHVlLWIyO1xuICAgIH1cblxuICAgIC5jYXRlZ29yeS1kZXRhaWwge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICB9XG4gIH1cblxuICAubWV0cmljLWNyZWF0ZWQtdGltZSB7XG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY29sb3I6ICRwcmltYXJ5LWdyZXktZzI7XG4gIH1cblxuICA6Om5nLWRlZXAgJi5tYXQtcmFkaW8tY2hlY2tlZCB7XG4gICAgYmFja2dyb3VuZDogJHByaW1hcnktYmx1ZS1iMjtcblxuICAgIDo6bmctZGVlcCAubWF0LXJhZGlvLWxhYmVsLWNvbnRlbnQge1xuICAgICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG5cbiAgICAgIC5jYXRlZ29yeS1pY29uIHtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tZXRyaWMtY3JlYXRlZC10aW1lIHtcbiAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgIH1cbiAgfVxufVxuXG4uc2VjdGlvbiB7XG4gICYgPiBsYWJlbCB7XG4gICAgY29sb3I6ICRwcmltYXJ5LWJsdWUtYjI7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcGFkZGluZzogMTBweCAwO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGxldHRlci1zcGFjaW5nOiAwLjAxZW07XG4gICAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gIH1cblxuICAuY29udGFpbmVyIHtcbiAgICBjb2xvcjogJHByaW1hcnktZ3JleS1nNDtcbiAgICBwYWRkaW5nOiAwIDEwcHg7XG5cbiAgICAubWF0LXJhZGlvLWxhYmVsIHtcbiAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIGNvbG9yOiAjNTk2NTc0O1xuICAgIH1cblxuICAgIC5tYXQtcmFkaW8tbGFiZWwtY29udGVudCB7XG4gICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB3aWR0aDogMTg2cHg7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgIH1cbiAgfVxufVxuXG4uZGlhbG9nLWFjdGlvbnMge1xuICBwYWRkaW5nOiA1cHggMDtcbn1cbiIsIi8vIEJyYW5kaW5nIGNvbG9yc1xuJHByaW1hcnktYmx1ZS1iMTogIzFhODlkNDtcbiRwcmltYXJ5LWJsdWUtYjI6ICMwMDc3YmU7XG4kcHJpbWFyeS1ibHVlLWIzOiAjMjA2YmNlO1xuJHByaW1hcnktYmx1ZS1iNDogIzFkM2FiMjtcblxuJHByaW1hcnktaG92ZXItYmx1ZTogIzFkNjFiMTtcbiRncmlkLWhvdmVyLWNvbG9yOiAjZjVmOWZjO1xuJGdyaWQtaGVhZGVyLWJnLWNvbG9yOiAjZDdlYWZhO1xuJGdyaWQtaGVhZGVyLWNvbG9yOiAjMGI0ZDk5O1xuJGdyaWQtdGV4dC1jb2xvcjogIzQ2NDY0NjtcbiRncmV5LXRleHQtY29sb3I6ICM2MzYzNjM7XG5cbiRzZWxlY3Rpb24taGlnaGxpZ2h0LWNvbDogcmdiYSgwLCAxNDAsIDI2MCwgMC4yKTtcbiRwcmltYXJ5LWdyZXktZzE6ICNkMWQzZDM7XG4kcHJpbWFyeS1ncmV5LWcyOiAjOTk5O1xuJHByaW1hcnktZ3JleS1nMzogIzczNzM3MztcbiRwcmltYXJ5LWdyZXktZzQ6ICM1YzY2NzA7XG4kcHJpbWFyeS1ncmV5LWc1OiAjMzEzMTMxO1xuJHByaW1hcnktZ3JleS1nNjogI2Y1ZjVmNTtcbiRwcmltYXJ5LWdyZXktZzc6ICMzZDNkM2Q7XG5cbiRwcmltYXJ5LXdoaXRlOiAjZmZmO1xuJHByaW1hcnktYmxhY2s6ICMwMDA7XG4kcHJpbWFyeS1yZWQ6ICNhYjBlMjc7XG4kcHJpbWFyeS1ncmVlbjogIzczYjQyMTtcbiRwcmltYXJ5LW9yYW5nZTogI2YwNzYwMTtcblxuJHNlY29uZGFyeS1ncmVlbjogIzZmYjMyMDtcbiRzZWNvbmRhcnkteWVsbG93OiAjZmZiZTAwO1xuJHNlY29uZGFyeS1vcmFuZ2U6ICNmZjkwMDA7XG4kc2Vjb25kYXJ5LXJlZDogI2Q5M2UwMDtcbiRzZWNvbmRhcnktYmVycnk6ICNhYzE0NWE7XG4kc2Vjb25kYXJ5LXB1cnBsZTogIzkxNDE5MTtcblxuJHN0cmluZy10eXBlLWNvbG9yOiAjNDk5NWIyO1xuJG51bWJlci10eXBlLWNvbG9yOiAjMDBiMTgwO1xuJGdlby10eXBlLWNvbG9yOiAjODQ1ZWMyO1xuJGRhdGUtdHlwZS1jb2xvcjogI2QxOTYyMTtcblxuJHR5cGUtY2hpcC1vcGFjaXR5OiAxO1xuJHN0cmluZy10eXBlLWNoaXAtY29sb3I6IHJnYmEoJHN0cmluZy10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJG51bWJlci10eXBlLWNoaXAtY29sb3I6IHJnYmEoJG51bWJlci10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJGdlby10eXBlLWNoaXAtY29sb3I6IHJnYmEoJGdlby10eXBlLWNvbG9yLCAkdHlwZS1jaGlwLW9wYWNpdHkpO1xuJGRhdGUtdHlwZS1jaGlwLWNvbG9yOiByZ2JhKCRkYXRlLXR5cGUtY29sb3IsICR0eXBlLWNoaXAtb3BhY2l0eSk7XG5cbiRyZXBvcnQtZGVzaWduZXItc2V0dGluZ3MtYmctY29sb3I6ICNmNWY5ZmM7XG4kYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjlmYztcbiJdfQ== */\"","import { Component, Inject, ViewChild } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport * as get from 'lodash/get';\nimport * as some from 'lodash/some';\nimport * as startsWith from 'lodash/startsWith';\nimport * as fpValues from 'lodash/values';\nimport * as startCase from 'lodash/startCase';\nimport * as fpFilter from 'lodash/fp/filter';\nimport * as fpOrderBy from 'lodash/fp/orderBy';\nimport * as fpPipe from 'lodash/fp/pipe';\nimport * as fpReduce from 'lodash/fp/reduce';\nimport * as find from 'lodash/find';\n\nimport { ANALYSIS_METHODS, DATAPOD_CATEGORIES_OBJ } from '../../consts';\nimport { IAnalysisMethod } from '../../types';\nimport { AnalyzeDialogService } from '../../services/analyze-dialog.service';\nimport { MatHorizontalStepper } from '@angular/material/stepper';\nimport { FilterPipe } from '../../../../common/pipes/filter.pipe';\n\n@Component({\n  selector: 'analyze-new-dialog',\n  templateUrl: './analyze-new-dialog.component.html',\n  styleUrls: ['./analyze-new-dialog.component.scss'],\n  providers: [FilterPipe]\n})\nexport class AnalyzeNewDialogComponent {\n  methodCategories = ANALYSIS_METHODS;\n  supportedMetricCategories: Array<any> = [];\n  selectedMethod: IAnalysisMethod;\n  searchMetric: '';\n  selectedMetric;\n  private _sortOrder = 'asc';\n\n  @ViewChild('newAnalysisStepper') stepper: MatHorizontalStepper;\n\n  constructor(\n    public _analyzeDialogService: AnalyzeDialogService,\n    public _dialogRef: MatDialogRef<AnalyzeNewDialogComponent>,\n    private filterPipe: FilterPipe,\n    @Inject(MAT_DIALOG_DATA)\n    public data: {\n      metrics: any[];\n      id: string;\n    }\n  ) {}\n\n  onMetricSelected(metric) {\n    this.selectedMetric = metric;\n  }\n\n  onMethodSelected(method) {\n    this.selectedMethod = method.type ? method : null;\n    this.setSupportedMetrics(method);\n  }\n\n  trackById(index, metric) {\n    return metric.id;\n  }\n\n  /**\n   * searchCount\n   * Returns the number of metrics matching the search criteria\n   *\n   * @param metrics\n   * @returns {number}\n   */\n  searchCount(metrics): number {\n    return this.filterPipe.transform(metrics, 'metricName', this.searchMetric)\n      .length;\n  }\n\n  setSupportedMetrics(method) {\n    this._sortOrder = 'asc';\n\n    this.supportedMetricCategories = fpPipe(\n      fpFilter(metric => {\n        if (method.type === 'map:map') {\n          const mapSupport = find(\n            metric.supports,\n            ({ category }) => category === 'map'\n          );\n\n          if (!mapSupport) {\n            return false;\n          }\n\n          const doesSupportsMap = some(\n            mapSupport.children,\n            ({ type }) => type === 'map:map'\n          );\n          return doesSupportsMap;\n        }\n        if (startsWith(method.type, 'map:chart')) {\n          const mapChartSupport = find(\n            metric.supports,\n            ({ category }) => category === 'map'\n          );\n\n          if (!mapChartSupport) {\n            return false;\n          }\n\n          const doesSupportsMapChart = some(\n            mapChartSupport.children,\n            ({ type }) => type === 'map:chart'\n          );\n          return doesSupportsMapChart;\n        }\n        const isEsMetric = get(metric, 'esRepository.storageType') === 'ES';\n        return isEsMetric || method.type === 'table:report';\n      }),\n      fpOrderBy(['metricName'], [this._sortOrder]),\n      fpReduce((acc, metric) => {\n        const category = startCase(metric.category || 'Default');\n        acc[category] = acc[category] || {\n          label: category,\n          metrics: []\n        };\n        acc[category].metrics.push(metric);\n        return acc;\n      }, {}),\n      fpValues\n    )(this.data.metrics);\n\n    this.selectedMetric = null;\n    this.searchMetric = '';\n  }\n\n  nextButtonDisabled() {\n    if (this.stepper.selectedIndex === 0) {\n      return !this.selectedMethod;\n    } else if (this.stepper.selectedIndex === 1) {\n      return !this.selectedMethod || !this.selectedMetric;\n    }\n  }\n\n  toggleSort() {\n    this._sortOrder = this._sortOrder === 'asc' ? 'desc' : 'asc';\n    this.supportedMetricCategories[0].metrics = fpOrderBy(\n      ['metricName'],\n      [this._sortOrder],\n      this.supportedMetricCategories[0].metrics\n    );\n  }\n\n  previousStep() {\n    this.stepper.previous();\n  }\n\n  nextStep() {\n    if (this.stepper.selectedIndex === 0) {\n      this.stepper.next();\n    } else if (!this.nextButtonDisabled()) {\n      this.createAnalysis();\n    }\n  }\n\n  getAnalysisType(method, metric) {\n    const [first, second] = method.type.split(':');\n    switch (first) {\n      case 'chart':\n      case 'map':\n        return {\n          type: first,\n          chartType: second\n        };\n      case 'table':\n        // handle esReport edge case\n        const metricType = get(metric, 'esRepository.storageType');\n        const isEsMetric = metricType === 'ES';\n        if (second === 'report' && isEsMetric) {\n          return { type: 'esReport' };\n        }\n        return { type: second };\n    }\n  }\n\n  createAnalysis() {\n    const { id: semanticId, metricName, supports } = this.selectedMetric;\n    const { type, chartType } = this.getAnalysisType(\n      this.selectedMethod,\n      this.selectedMetric\n    );\n\n    const model = {\n      type,\n      chartType,\n      categoryId: this.data.id,\n      semanticId,\n      metricName,\n      supports\n    };\n    this._dialogRef.afterClosed().subscribe(() => {\n      this._analyzeDialogService.openNewAnalysisDialog(model);\n    });\n    this._dialogRef.close();\n  }\n\n  getCategoryIcon(metricCategory) {\n    const name = startCase(metricCategory.label);\n    const icon = get(DATAPOD_CATEGORIES_OBJ[name], 'icon');\n    return icon || '';\n  }\n\n  getMetricCategoryLabel(metricCategory) {\n    const metricCount = this.searchCount(metricCategory.metrics);\n    const label = metricCategory.label;\n    return `${label} (${metricCount})`;\n  }\n}\n","export { AnalyzeNewDialogComponent } from './analyze-new-dialog.component';\n"],"sourceRoot":""}