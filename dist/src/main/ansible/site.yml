# Note: Order according to dependencies, to ensure health checks
# can succeed right after installation
- name: SAW Host
  hosts: all
  become: true
  roles:
    - saw-host
    - sip-prometheus-node
- name: Admin
  hosts: sip-admin
  become: true
  roles:
    - sip-prometheus
- import_playbook: modules/saw-security/ansible/site.yml
- import_playbook: modules/saw-services/ansible/site.yml
- import_playbook: modules/saw-web/ansible/site.yml
- import_playbook: modules/sip-xdf/ansible/site.yml
- import_playbook: modules/sip-a2/ansible/site.yml
- import_playbook: modules/sip-rtis/ansible/site.yml
- import_playbook: modules/sip-rtps/ansible/site.yml
- name: SAW Proxy
  hosts: saw-proxy
  become: true
  roles:
    - saw-proxy
