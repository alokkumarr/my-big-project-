<?xml version="1.0" encoding="UTF-8"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.synchronoss.saw</groupId>
  <artifactId>saw</artifactId>
  <version>${revision}</version>
  <packaging>pom</packaging>
  <name>saw</name>
  <modules>
    <module>saw-dist</module>
    <module>saw-security</module>
    <module>saw-services</module>
    <module>saw-web</module>
  </modules>
  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
        <scope>test</scope>
    </dependency>
    </dependencies>
  </dependencyManagement>
  <build>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-assembly-plugin</artifactId>
          <version>3.1.0</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-failsafe-plugin</artifactId>
          <version>2.20.1</version>
        </plugin>
      </plugins>
    </pluginManagement>
  </build>
  <repositories>
    <repository>
      <id>synchronoss</id>
      <url>http://maven-us.synchronoss.net:8081/nexus/content/repositories/releases-only</url>
    </repository>
  <repository>
    <id>synchronoss-snapshots</id>
    <url>http://maven-us.synchronoss.net:8081/nexus/content/repositories/snapshots-only</url>
  </repository>
  </repositories>
  <profiles>
    <!-- Profile that uses the preset container name "saw" and binds
         to preset ports.  This is for developers who are manually
         interacting with the SAW containers and only running a single
         instance at a time.  The profile cannot be enabled by
         default, because the static container names and ports would
         prevent multiple Maven builds and integration tests from
         running in parallel, as can happen for example in continuous
         integration.  -->
    <profile>
      <id>docker-saw</id>
      <properties>
        <saw.docker.ip>localhost</saw.docker.ip>
        <saw.docker.port>80</saw.docker.port>
        <saw.docker.naming>alias</saw.docker.naming>
        <saw.mapr.web.port>18443</saw.mapr.web.port>
        <saw.mapr.cldb.port>17222</saw.mapr.cldb.port>
        <saw.yarn.resource.port>18088</saw.yarn.resource.port>
        <saw.yarn.node.port>18042</saw.yarn.node.port>
        <saw.spark.master.port>18080</saw.spark.master.port>
        <saw.spark.worker.port>18081</saw.spark.worker.port>
        <saw.livy.port>18998</saw.livy.port>
        <saw.kibana.port>15601</saw.kibana.port>
        <saw.journal.port>19531</saw.journal.port>
        <!-- Show Docker image build output by default to keep users
             up to date on the progress, as it can take considerable
             time for the first run and after Dockerfile modifications
             -->
        <docker.verbose>true</docker.verbose>
      </properties>
    </profile>
    <!-- Additional profile for Docker Machine setups, to be used
         together with the Docker profile -->
    <profile>
      <id>docker-saw-machine</id>
      <properties>
        <!-- Bind to all interfaces so that environment can be
             accessed remotely -->
        <saw.docker.ip>0.0.0.0</saw.docker.ip>
      </properties>
    </profile>
  </profiles>
</project>
